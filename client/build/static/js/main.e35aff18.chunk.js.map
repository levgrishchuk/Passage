{"version":3,"sources":["components/Visualizer.js","assets/Spotify_Logo_CMYK_Green.png","components/spotify.js","components/Login.js","assets/playerPlay.svg","assets/playerPause.svg","assets/playerNextTrack.svg","assets/playerDelete.svg","assets/playerEdit.svg","assets/playerLoop.svg","assets/playerSave.svg","components/Player.js","components/Tag.js","assets/plusSign.svg","components/InputPanel.js","assets/trackPlay.svg","assets/trackPlaying.svg","assets/trackPause.svg","components/Library.js","assets/symbol_questionmark64x64.png","components/Dashboard.js","components/useAuth.js","components/Preview.js","components/useAuthClientCredientials.js","App.js","index.js"],"names":["visualizer","sizes","width","window","innerWidth","height","innerHeight","printUniforms","Object","keys","uniforms","reduce","acc","key","value","type","Vector2","parseFloat","resolution","Uniform","time","stream","volume","beat","beatBasis","beatBool","tatum","tatumBasis","tatumBool","bar","barBasis","barBool","section","sectionBasis","sectionBool","segment","segmentBasis","segmentBool","console","log","scene","Scene","canvas","document","querySelector","renderer","WebGLRenderer","powerPreference","setClearColor","camera","OrthographicCamera","setSize","setPixelRatio","Math","min","devicePixelRatio","geometry","PlaneGeometry","material","THREE","vertexShader","fragmentShader","mesh","Mesh","onResize","add","addEventListener","bind","this","clock","tick","base","speed","now","getElapsedTime","render","requestAnimationFrame","e","scopes","authUrl","encodeURIComponent","process","Login","useEffect","Container","id","class","className","alt","src","SpotifyLogo","href","_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_g16","_excluded","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPlayerPlay","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","ref","d","ForwardRef","SvgPlayerPause","SvgPlayerNextTrack","SvgPlayerDelete","SvgPlayerEdit","_desc","SvgPlayerLoop","undefined","stroke","strokeWidth","fillRule","SvgPlayerSave","Player","Range","createSliderWithTooltip","Slider","loopTrack","isPlaying","Row","Col","onClick","handleDelete","handleLoopTrack","handleTrackChange","handleTogglePlayback","handleSave","handleEdit","defaultValue","sliderHandles","max","trackDuration","onChange","handleSliderChange","tipFormatter","duration","date","Date","zeroPad","num","places","String","padStart","replace","getMinutes","getSeconds","secondsToTime","Tag","deletable","handleTagDelete","fill","SvgPlusSign","InputPanel","_polygon","handleButtonClicking","setTimeout","blur","tagsTray","md","for","placeholder","rows","notes","handleNotes","selectedTag","handleTags","disabled","tagList","map","index","handleAddingTag","label","customTag","handleCustomTags","handleAddingCustomTag","Stack","direction","gap","SvgTrackPlay","points","SvgTrackPlaying","transform","SvgTrackPause","Library","hoveredRowIndex","useState","hoveredRow","useRef","libraryState","handleIndexColumn","track","currentTrack","activeRow","handleTrackClick","handleImageSelection","images","documentElement","clientWidth","at","url","selectedRow","sm","textAlign","xs","borderTop","library","record","artists","marginTop","marginBottom","onMouseEnter","handleOnMouseEnter","onMouseLeave","handleOnMouseLeave","handleSelectRow","trackUri","trackInfo","album","name","obj","join","OverlayTrigger","row","getElementById","relatedTarget","tagName","background","nodes","querySelectorAll","color","trackIndexContainer","children","childNodes","classList","contains","ReactDOM","handleMouseLeave","placement","overlay","Tooltip","overflowX","tags","tag","spotifyApi","SpotifyWebApi","clientId","Dashboard","accessToken","code","access_token","set_access_token","refresh_token","set_refresh_token","expires_in","set_expires_in","axios","post","then","res","data","history","pushState","catch","location","refreshInterval","setInterval","clearInterval","useAuth","defaultTimeDuration","sliderTimeOutFlag","previousValues","round","prevHandle","timeDuration","dataUpdateTimer","dataUpdateRetryTimer","trackLoopTimer","user","indexOfSelectedTrack","librarySize","set_custom_tag","set_tag","set_notes","set_tags_tray","set_library","set_library_state","set_selected_row","set_active_row","set_data","set_track_uri","set_loop_track","trackLoopRef","dashboard","role","handleMouseOver","handleIndexType","body","item","uri","is_playing","curr_array","slice","find","element","push","alert","preventDefault","current","values","result","seek","error","updateHandles","start","finish","getMe","display_name","fetchLibrary","clearDashboard","current_index","request","_id","delete","username","get","params","arrayOfTrackIds","getTracks","tracksRes","tracks","getMyCurrentPlaybackState","clearDataTimers","clearTimeout","startTrackSegmentLoop","action","updateCurrentUserState","delay","tries","retryFetchUntilUpdate","play","context_uri","offset","position","track_number","position_ms","duration_ms","currArray","splice","tempData","pause","err","statusCode","setAccessToken","Preview","fetchAccessToken","useAuthClientCredientials","Swal","fire","temp","require","config","URLSearchParams","search","App","StrictMode"],"mappings":"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","file":"static/js/main.e35aff18.chunk.js","sourcesContent":["import { Uniform } from 'three/src/core/Uniform'\r\nimport { Vector2 } from 'three/src/math/Vector2'\r\nimport { Scene } from 'three/src/scenes/Scene'\r\nimport { WebGLRenderer } from 'three/src/renderers/WebGLRenderer'\r\nimport { OrthographicCamera } from 'three/src/cameras/OrthographicCamera'\r\nimport { PlaneGeometry } from 'three/src/geometries/PlaneGeometry'\r\nimport { ShaderMaterial } from 'three/src/materials/ShaderMaterial'\r\nimport { Mesh } from 'three/src/objects/Mesh'\r\nimport { DoubleSide } from 'three/src/constants'\r\nimport * as THREE from 'three'\r\n\r\n\r\nexport default function visualizer() {\r\n\r\n\r\n    const sizes = {\r\n    width: window.innerWidth,\r\n    height: window.innerHeight\r\n    }\r\n\r\n\r\n    function printUniforms () {\r\n    return Object.keys(uniforms).reduce((acc, key) => {\r\n        let { value } = uniforms[key]\r\n        const isVec2 = value instanceof Vector2\r\n        let type = isVec2 ? Vector2 : typeof value\r\n        if (type === 'string') {\r\n        value = parseFloat(value)\r\n        type = 'number'\r\n        }\r\n        switch (type) {\r\n        case 'number':\r\n            acc += `uniform float ${key};\\n`\r\n            break\r\n        case 'boolean':\r\n            acc += `uniform bool ${key};\\n`\r\n            break\r\n        case Vector2:\r\n            acc += `uniform vec2 ${key};\\n`\r\n            break\r\n        }\r\n        return acc\r\n    }, `varying vec2 vUv;\\n`)\r\n    }\r\n\r\n    // flower\r\n    // const shader = \r\n    // `\r\n    // vec4 hue(vec4 color, float shift) {\r\n    //   const vec4 kRGBToYPrime = vec4(0.299, 0.587, 0.114, 0.0);\r\n    //   const vec4 kRGBToI = vec4(0.596, -0.275, -0.321, 0.0);\r\n    //   const vec4 kRGBToQ = vec4(0.212, -0.523, 0.311, 0.0);\r\n    //   const vec4 kYIQToR = vec4(1.0, 0.956, 0.621, 0.0);\r\n    //   const vec4 kYIQToG = vec4(1.0, -0.272, -0.647, 0.0);\r\n    //   const vec4 kYIQToB = vec4(1.0, -1.107, 1.704, 0.0);\r\n    //   float YPrime = dot(color, kRGBToYPrime);\r\n    //   float I = dot(color, kRGBToI);\r\n    //   float Q = dot(color, kRGBToQ);\r\n    //   float hue = atan(Q, I);\r\n    //   float chroma = sqrt(I * I + Q * Q);\r\n    //   hue += shift;\r\n    //   Q = chroma * sin(hue);\r\n    //   I = chroma * cos(hue);\r\n    //   vec4 yIQ = vec4(YPrime, I, Q, 0.0);\r\n    //   color.r = dot(yIQ, kYIQToR);\r\n    //   color.g = dot(yIQ, kYIQToG);\r\n    //   color.b = dot(yIQ, kYIQToB);\r\n    //   return color;\r\n    // }\r\n\r\n    // void main() {\r\n    //   vec2 uv = -1.0 + 2.0 * vUv;\r\n    //   uv.x *= resolution.x / resolution.y;\r\n    //   uv *= zoom;\r\n    //   uv = abs(fract(uv) - .5) * 2.1;\r\n    //   uv = abs(fract(uv) - .5) * .1;\r\n    //   uv = abs(fract(uv) - .5) * 1.;\r\n    //   uv = abs(fract(uv) - .5) * 1.;\r\n    //   uv *= 2. * atan(uv.x / 50. + stream / 100.) - .1;\r\n    //   vec4 result = vec4(0, 0, 0, 1);\r\n    //   float t = 1.8;\r\n    //   float base = 1000. * length(uv);\r\n    //   for (int p = 0; p < 3; p++) {\r\n    //     float a = cos((t * base) - stream / 1000.);\r\n    //     float b = cos(660. * uv.x / .25 - stream / 100.);\r\n    //     result[p] = 2.52 * a + 1.7 * b + base / 1000.;\r\n    //     t += 2.6;\r\n    //   }\r\n    //   float col = hue(result.xyxy, stream / 1000.).g;\r\n    //   result.xyz *= brightness * col;\r\n    //   result.xyz = (result.xyz);\r\n    //   result.xy *= abs(tan(uv.x * 200.));\r\n    //   gl_FragColor = log(abs(result));\r\n    //   gl_FragColor.r *= red;\r\n    //   gl_FragColor.g *= green;\r\n    //   gl_FragColor.b *= blue;\r\n    // }\r\n    // `\r\n\r\n    // fractal\r\n    const shader = \r\n    `\r\n    vec2 p;\r\n    void main() {\r\n    p = -1.0 + 2.0 * vUv.xy;\r\n    p *= zoom;\r\n    p.x *= resolution.x / resolution.y;\r\n    gl_FragColor = vec4(1, 1, 1, 1);\r\n    for (float i = 1.; i < 3.; i++) {\r\n        float a = cos(p.y - stream / 2000.);\r\n        float k = 10. * sin(stream / 2000.);\r\n        vec4 b = vec4(.842, .185, k, 0.);\r\n        vec2 c = abs(2. * fract(p - .5) - 1.);\r\n        float h = (stream / 2000.);\r\n        p = c * mat2(sin(h * i * i + a * a * b));\r\n        float d = log(abs(p.y*2.) * 10.48);\r\n        float e = cos(p.x - stream / 32000.);\r\n        float f = pattern * p.x + stream / 3000.;\r\n        vec4 g = vec4((pattern * p.y), e, f, 0.);\r\n        gl_FragColor *= d * brightness * (cos(g * i * i) * .5 + .5);\r\n    }\r\n    gl_FragColor.r *= red;\r\n    gl_FragColor.g *= green;\r\n    gl_FragColor.b *= blue;\r\n    }\r\n    `\r\n    // flower\r\n    // const uniforms = \r\n    // {\r\n    //   resolution: new Uniform(new Vector2(window.innerWidth, window.innerHeight)),\r\n    //   time: {\r\n    //     value: 0\r\n    //   },\r\n    //   stream: {\r\n    //     value: 0\r\n    //   },\r\n    //   volume: {\r\n    //     value: 0\r\n    //   },\r\n    //   beat: {\r\n    //     value: 0\r\n    //   },\r\n    //   beatBasis: {\r\n    //     value: 0\r\n    //   },\r\n    //   beatBool: {\r\n    //     value: true\r\n    //   },\r\n    //   tatum: {\r\n    //     value: 0\r\n    //   },\r\n    //   tatumBasis: {\r\n    //     value: 0\r\n    //   },\r\n    //   tatumBool: {\r\n    //     value: true\r\n    //   },\r\n    //   bar: {\r\n    //     value: 0\r\n    //   },\r\n    //   barBasis: {\r\n    //     value: 0\r\n    //   },\r\n    //   barBool: {\r\n    //     value: true\r\n    //   },\r\n    //   section: {\r\n    //     value: 0\r\n    //   },\r\n    //   sectionBasis: {\r\n    //     value: 0\r\n    //   },\r\n    //   sectionBool: {\r\n    //     value: true\r\n    //   },\r\n    //   segment: {\r\n    //     value: 0\r\n    //   },\r\n    //   segmentBasis: {\r\n    //     value: 0\r\n    //   },\r\n    //   segmentBool: {\r\n    //     value: true\r\n    //   },\r\n    //   \"speed\": {\r\n    //     \"name\": \"speed\",\r\n    //     \"min\": 0,\r\n    //     \"max\": 12,\r\n    //     \"value\": \"10.02\",\r\n    //     \"step\": 0.01\r\n    //   },\r\n    //   \"bump\": {\r\n    //     \"name\": \"bump\",\r\n    //     \"min\": 0,\r\n    //     \"max\": 75,\r\n    //     \"value\": \"65.77\",\r\n    //     \"step\": 0.01\r\n    //   },\r\n    //   \"zoom\": {\r\n    //     \"name\": \"zoom\",\r\n    //     \"min\": \".002\",\r\n    //     \"max\": \".01\",\r\n    //     \"step\": \"0.0001\",\r\n    //     \"value\": \"0.002\"\r\n    //   },\r\n    //   \"brightness\": {\r\n    //     \"name\": \"brightness\",\r\n    //     \"min\": 0,\r\n    //     \"max\": \"50\",\r\n    //     \"step\": 0.01,\r\n    //     \"value\": \"26.95\"\r\n    //   },\r\n    //   \"red\": {\r\n    //     \"name\": \"red\",\r\n    //     \"min\": 0,\r\n    //     \"max\": 1,\r\n    //     \"step\": 0.01,\r\n    //     \"value\": \"0.19\"\r\n    //   },\r\n    //   \"green\": {\r\n    //     \"name\": \"green\",\r\n    //     \"min\": 0,\r\n    //     \"max\": 1,\r\n    //     \"step\": 0.01,\r\n    //     \"value\": \"0.18\"\r\n    //   },\r\n    //   \"blue\": {\r\n    //     \"name\": \"blue\",\r\n    //     \"min\": 0,\r\n    //     \"max\": 1,\r\n    //     \"step\": 0.01,\r\n    //     \"value\": \"1\"\r\n    //   }\r\n    // }\r\n\r\n    // fractal\r\n    const uniforms = \r\n    {\r\n    resolution: new Uniform(new Vector2(window.innerWidth, window.innerHeight)),\r\n    time: {\r\n        value: 0\r\n    },\r\n    stream: {\r\n        value: 0\r\n    },\r\n    volume: {\r\n        value: 0\r\n    },\r\n    beat: {\r\n        value: 0\r\n    },\r\n    beatBasis: {\r\n        value: 0\r\n    },\r\n    beatBool: {\r\n        value: true\r\n    },\r\n    tatum: {\r\n        value: 0\r\n    },\r\n    tatumBasis: {\r\n        value: 0\r\n    },\r\n    tatumBool: {\r\n        value: true\r\n    },\r\n    bar: {\r\n        value: 0\r\n    },\r\n    barBasis: {\r\n        value: 0\r\n    },\r\n    barBool: {\r\n        value: true\r\n    },\r\n    section: {\r\n        value: 0\r\n    },\r\n    sectionBasis: {\r\n        value: 0\r\n    },\r\n    sectionBool: {\r\n        value: true\r\n    },\r\n    segment: {\r\n        value: 0\r\n    },\r\n    segmentBasis: {\r\n        value: 0\r\n    },\r\n    segmentBool: {\r\n        value: true\r\n    },\r\n    \"speed\": {\r\n        \"name\": \"speed\",\r\n        \"min\": 0,\r\n        \"max\": 20,\r\n        \"value\": \"8.07\",\r\n        \"step\": 0.01\r\n    },\r\n    \"bump\": {\r\n        \"name\": \"bump\",\r\n        \"min\": 0,\r\n        \"max\": \"200\",\r\n        \"value\": \"61.47\",\r\n        \"step\": 0.01\r\n    },\r\n    \"red\": {\r\n        \"name\": \"red\",\r\n        \"min\": 0,\r\n        \"max\": 1,\r\n        \"step\": 0.01,\r\n        \"value\": \"0.45\",\r\n    },\r\n    \"green\": {\r\n        \"name\": \"green\",\r\n        \"min\": 0,\r\n        \"max\": 1,\r\n        \"step\": 0.01,\r\n        \"value\": \"0.18\",\r\n    },\r\n    \"blue\": {\r\n        \"name\": \"blue\",\r\n        \"min\": 0,\r\n        \"max\": 1,\r\n        \"step\": 0.01,\r\n        \"value\": \"1\"\r\n    },\r\n    \"brightness\": {\r\n        \"name\": \"brightness\",\r\n        \"min\": \"1\",\r\n        \"max\": \"15\",\r\n        \"step\": 0.01,\r\n        \"value\": \"1.63\"\r\n    },\r\n    \"zoom\": {\r\n        \"name\": \"zoom\",\r\n        \"min\": \".01\",\r\n        \"max\": \".6\",\r\n        \"step\": \"0.0001\",\r\n        \"value\": \"0.1394\"\r\n    },\r\n    \"pattern\": {\r\n        \"name\": \"pattern\",\r\n        \"min\": \"10\",\r\n        \"max\": \"200\",\r\n        \"step\": 0.01,\r\n        \"value\": \"20.82\"\r\n    }\r\n    }\r\n\r\n\r\n    console.log(printUniforms())\r\n\r\n    const scene = new Scene()\r\n\r\n    const canvas = document.querySelector('canvas.webgl')\r\n    const renderer = new WebGLRenderer({\r\n    powerPreference: 'high-performance',\r\n    canvas: canvas\r\n    })\r\n\r\n\r\n\r\n    renderer.setClearColor( '#000000', 1 )\r\n    const camera = new OrthographicCamera(-1, 1, 1, -1, -1, 1)\r\n    renderer.setSize(sizes.width, sizes.height)\r\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\r\n    window.renderer = renderer\r\n    const geometry = new PlaneGeometry(2, 2)\r\n    const material = new THREE.ShaderMaterial({\r\n    vertexShader: `\r\n    ${printUniforms()}\r\n    void main() {\r\n        vUv = uv;\r\n        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0 );\r\n        gl_Position = projectionMatrix * mvPosition;\r\n    }\r\n    `,\r\n    fragmentShader: `\r\n    ${printUniforms()}\r\n    ${shader}`,\r\n    uniforms: uniforms\r\n    })\r\n\r\n    const mesh = new Mesh(geometry, material)\r\n    scene.add(mesh)\r\n    window.addEventListener('resize', onResize.bind(this))\r\n    onResize()\r\n    // initErrorHandler()\r\n\r\n\r\n    // function initErrorHandler () {\r\n    //   window.__KALEIDOSYNC_LOGGER__ = Observe({\r\n    //     error: null\r\n    //   })\r\n\r\n    //   window.__KALEIDOSYNC_LOGGER__.watch('error', val => {\r\n    //     parseError(val)\r\n    //   })\r\n    // }\r\n\r\n    // function parseError (e) { \r\n    //   const raw = e.split('\\n')\r\n    //   const unadjustedLineNumber = parseInt(raw[1].match(/([0-9])\\w+/)[0], 10)\r\n    //   const startingIndex = raw.reduce((acc, line, i) => {\r\n    //     if (line.indexOf('// KALEIDOSYNC //') !== -1) acc = i + 1\r\n    //     return acc\r\n    //   }, -1)\r\n    //   const lineNumber = unadjustedLineNumber - startingIndex - Object.keys(_uniforms).length - Object.keys(booleans).length - 3\r\n    //   const errors = raw.reduce((acc, item) => {\r\n    //     if (item.indexOf('ERROR') !== -1) acc.push(item)\r\n    //     return acc\r\n    //   }, []).map(error => {\r\n    //     return {\r\n    //       error: error.replace(unadjustedLineNumber, lineNumber),\r\n    //       line: lineNumber\r\n    //     }\r\n    //   }) \r\n    //   $store.dispatch('visualizer/shaderErrors', errors)\r\n    // }\r\n\r\n    function onResize () {\r\n      if (uniforms) uniforms.resolution = new Uniform(new Vector2(window.innerWidth, window.innerHeight))\r\n      renderer.setSize(window.innerWidth, window.innerHeight)\r\n    //   renderer.setPixelRatio(hidpi ? window.devicePixelRatio : 1)\r\n    }\r\n\r\n    // function tick (now) {\r\n    //   try {\r\n    //     const base = parseFloat(_uniforms.speed.value) \r\n    //     const tick = parseFloat(_uniforms.bump.value) \r\n\r\n    //     if (!activeIntervals) {\r\n    //       _uniforms.stream.value += base / 5\r\n    //       _uniforms.time.value = now\r\n    //       _uniforms.volume.value = 1\r\n    //       renderer.render(scene, camera)\r\n    //       return\r\n    //     }\r\n\r\n    //     let volume = 1\r\n    //     queues.forEach(queue => {\r\n    //       volume *= volumeQueues[queue.name].volume\r\n    //     })\r\n    //     const { progress } = activeIntervals[beatInterval]\r\n    //     const stream = interpolateBasis([base, (base + (tick * volume)), base])(ease(progress, 'easeOutQuart'))\r\n    //     _uniforms.stream.value += stream \r\n    //     _uniforms.time.value = now / 1000\r\n    //     _uniforms.volume.value = volume\r\n    //     const intervals = ['segment', 'tatum', 'beat', 'bar', 'section']\r\n    //     const intervalInterpolator = interpolateBasis([0, 1, 0])\r\n    //     intervals.forEach(interval => {\r\n    //       _uniforms[interval].value = activeIntervals[interval + 's'].progress\r\n    //       _uniforms[interval + 'Basis'].value = intervalInterpolator(ease(activeIntervals[interval + 's'].progress, 'easeInOutQuint'))\r\n    //     })\r\n    //     renderer.render(scene, camera)\r\n    //   } catch (e) {\r\n    //     console.log(e) // eslint-disable-line\r\n    //   }\r\n    // }\r\n\r\n    const clock = new THREE.Clock()\r\n\r\n    const tick = () => {\r\n    try {\r\n        const base = parseFloat(uniforms.speed.value) \r\n        // const tick = parseFloat(uniforms.bump.value) \r\n\r\n        const now = clock.getElapsedTime()\r\n        // console.log(now)\r\n\r\n        // if (true) {\r\n        uniforms.stream.value += base / 5\r\n        uniforms.time.value = now\r\n        uniforms.volume.value = 1\r\n        renderer.render(scene, camera)\r\n        window.requestAnimationFrame(tick)\r\n        // }\r\n\r\n        // let volume = 1\r\n        // // queues.forEach(queue => {\r\n        // //   volume *= volumeQueues[queue.name].volume\r\n        // // })\r\n        // // const { progress } = activeIntervals[beatInterval]\r\n        // // const stream = interpolateBasis([base, (base + (tick * volume)), base])(ease(progress, 'easeOutQuart'))\r\n        // uniforms.stream.value += stream \r\n        // uniforms.time.value = now / 1000\r\n        // uniforms.volume.value = volume\r\n        // const intervals = ['segment', 'tatum', 'beat', 'bar', 'section']\r\n        // // const intervalInterpolator = interpolateBasis([0, 1, 0])\r\n        // // intervals.forEach(interval => {\r\n        // //   uniforms[interval].value = activeIntervals[interval + 's'].progress\r\n        // //   uniforms[interval + 'Basis'].value = intervalInterpolator(ease(activeIntervals[interval + 's'].progress, 'easeInOutQuint'))\r\n        // // })\r\n        // renderer.render(scene, camera)\r\n    } catch (e) {\r\n        console.log(e) // eslint-disable-line\r\n    }\r\n    }\r\n\r\n    tick()\r\n}","export default __webpack_public_path__ + \"static/media/Spotify_Logo_CMYK_Green.8eef091b.png\";","const scopes = 'user-read-playback-state user-modify-playback-state';\r\nconst authUrl = 'https://accounts.spotify.com/authorize' +\r\n'?response_type=code' +\r\n'&client_id=' + process.env.REACT_APP_client_id +\r\n(scopes ? '&scope=' + encodeURIComponent(scopes) : '') +\r\n'&redirect_uri=' + encodeURIComponent(process.env.REACT_APP_redirect_uri);\r\n\r\nexport { authUrl };\r\n\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport visualizer from \"./Visualizer\";\r\nimport '../styles/login.css';\r\nimport SpotifyLogo from \"../assets/Spotify_Logo_CMYK_Green.png\"\r\nimport { authUrl } from './spotify';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nfunction Login() {   \r\n    \r\n    useEffect(() => {\r\n        visualizer()\r\n      }, [])\r\n    \r\n    return (\r\n        <Container id=\"loginContainer\">\r\n            {/* Visualizer */}\r\n            <canvas class=\"webgl\" id=\"loginVisualizer\"></canvas>\r\n            <div className='login'>\r\n                <img alt='Spotify logo' src={SpotifyLogo}></img>\r\n                <div id=\"projectName\">PASSAGE</div> \r\n                <div className='loginButtonContainer transparentContainer'>\r\n                    <div className='transparentContainer leftSection'>                        \r\n                        <a id='loginClickLeft' className='transparentContainer' href={ authUrl }>\r\n                            <div className=\"loginButtonSpanWrapper loginButtonContainerItems d-flex justify-content-center\">\r\n                                <span className=\"loginButtonSpan2\">LOGIN WITH SPOTIFY</span>\r\n                            </div>\r\n                        </a>\r\n                        <div className=\"loginButtonContainerItems d-flex justify-content-center\">\r\n                            <span className=\"loginButtonSpan\">features require a <span className='loginUnderlines'>PREMIUM SPOTIFY ACCOUNT</span></span>\r\n                        </div> \r\n                    </div>\r\n                    <div className='transparentContainer rightSection'>\r\n                        <a id='loginClickRight' className='transparentContainer' href='/?code=preview'>\r\n                            <div className=\"loginButtonSpanWrapper loginButtonContainerItems d-flex justify-content-center\">\r\n                                <span className=\"loginButtonSpan2\">VISIT PREVIEW</span>\r\n                            </div>\r\n                        </a>\r\n                        <div className=\"loginButtonContainerItems d-flex justify-content-center\">\r\n                            <span className=\"loginButtonSpan\">Includes sample records and an interactive UI</span>\r\n                        </div> \r\n                    </div>\r\n                </div>\r\n                \r\n                {/* <Container id=\"loginButtonContainer\" className=\"loginButtonContainerItems\">\r\n                    <Row className=\"loginButtonContainerItems gx-5\">\r\n                        <Col className=\"loginButtonContainerItems\">\r\n                            <Row className=\"loginButtonContainerItems\">\r\n                                <Col className=\"loginButtonContainerItems\">\r\n                                    \r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"loginButtonContainerItems pb-5\">\r\n                                <Col className=\"loginButtonContainerItems\">\r\n                                    \r\n                                </Col>\r\n                            </Row>\r\n                            \r\n                        </Col>\r\n                        <Col className=\"loginButtonContainerItems\">\r\n                            <Row className=\"loginButtonContainerItems\">\r\n                                <Col className=\"loginButtonContainerItems\">\r\n                                    \r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"loginButtonContainerItems\">\r\n                                <Col className=\"loginButtonContainerItems\">\r\n                                    \r\n                                </Col>\r\n                            </Row>\r\n                            \r\n                        </Col>\r\n                    </Row>\r\n                    \r\n                    \r\n                \r\n                </Container>                */}\r\n                \r\n            </div>\r\n        </Container>        \r\n    )\r\n\r\n    \r\n}\r\n\r\nexport default Login\r\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlayerPlay(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"playerButtons\",\n    id: \"playerPlay\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"2.8rem\",\n    height: \"2.8rem\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 470 470\",\n    style: {\n      enableBackground: \"new 0 0 459 459\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M229.5,0C102.751,0,0,102.751,0,229.5S102.751,459,229.5,459S459,356.249,459,229.5S356.249,0,229.5,0z M310.292,239.651 l-111.764,76.084c-3.761,2.56-8.63,2.831-12.652,0.704c-4.022-2.128-6.538-6.305-6.538-10.855V153.416 c0-4.55,2.516-8.727,6.538-10.855c4.022-2.127,8.891-1.857,12.652,0.704l111.764,76.084c3.359,2.287,5.37,6.087,5.37,10.151 C315.662,233.564,313.652,237.364,310.292,239.651z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlayerPlay);\nexport default __webpack_public_path__ + \"static/media/playerPlay.ae3d3d46.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlayerPause(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"playerButtons\",\n    id: \"playerStop\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"2.8rem\",\n    height: \"2.8rem\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 310.077 310.077\",\n    style: {\n      enableBackground: \"new 0 0 485 485\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M150.001,0c-82.838,0-150,67.159-150,150c0,82.838,67.162,150.003,150,150.003c82.843,0,150-67.165,150-150.003 C300.001,67.159,232.846,0,150.001,0z M134.41,194.538c0,9.498-7.7,17.198-17.198,17.198s-17.198-7.7-17.198-17.198V105.46 c0-9.498,7.7-17.198,17.198-17.198s17.198,7.7,17.198,17.198V194.538z M198.955,194.538c0,9.498-7.701,17.198-17.198,17.198 c-9.498,0-17.198-7.7-17.198-17.198V105.46c0-9.498,7.7-17.198,17.198-17.198s17.198,7.7,17.198,17.198V194.538z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlayerPause);\nexport default __webpack_public_path__ + \"static/media/playerPause.1ecd6fd8.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlayerNextTrack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"playerButtons\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"1.25rem\",\n    height: \"1.25rem\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 51.531 51.531\",\n    style: {\n      enableBackground: \"new 0 0 51.531 51.531\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M44.9,1.963c-3.662,0-6.631,2.969-6.631,6.631V23.81c-0.285-0.324-0.617-0.609-1-0.831L6,4.926 c-1.238-0.715-2.762-0.715-4,0C0.763,5.64,0,6.961,0,8.39v36.104c0,1.43,0.763,2.75,2,3.465c0.619,0.356,1.311,0.535,2,0.535 c0.691,0,1.381-0.179,2-0.535l31.269-18.053c0.383-0.223,0.715-0.508,1-0.832v13.863c0,3.662,2.969,6.631,6.631,6.631 s6.631-2.969,6.631-6.631V8.594C51.531,4.932,48.562,1.963,44.9,1.963z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlayerNextTrack);\nexport default __webpack_public_path__ + \"static/media/playerNextTrack.1fb912cf.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlayerDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"playerButtons playerMobileIcons\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"1.25rem\",\n    height: \"1.25rem\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 443 443\",\n    style: {\n      enableBackground: \"new 0 0 443 443\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M321.785,38h-83.384V0H125.169v38H41.785v60h280V38z M155.169,30h53.232v8h-53.232V30z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M295.142,214.31l5.66-86.31H62.769l19.016,290h114.172c-14.861-21.067-23.602-46.746-23.602-74.43 C172.355,274.43,226.849,217.779,295.142,214.31z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M301.785,244.141c-54.826,0-99.43,44.604-99.43,99.429S246.959,443,301.785,443s99.43-44.604,99.43-99.43 S356.611,244.141,301.785,244.141z M355.961,376.533l-21.213,21.213l-32.963-32.963l-32.963,32.963l-21.213-21.213l32.963-32.963 l-32.963-32.963l21.213-21.213l32.963,32.963l32.963-32.963l21.213,21.213l-32.963,32.963L355.961,376.533z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlayerDelete);\nexport default __webpack_public_path__ + \"static/media/playerDelete.fdc7c581.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlayerEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"playerButtons playerMobileIcons\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"1.25rem\",\n    height: \"1.25rem\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 490.273 490.273\",\n    style: {\n      enableBackground: \"new 0 0 490.273 490.273\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M313.548,152.387l-230.8,230.9c-6.7,6.7-6.7,17.6,0,24.3c3.3,3.3,7.7,5,12.1,5s8.8-1.7,12.1-5l230.8-230.8 c6.7-6.7,6.7-17.6,0-24.3C331.148,145.687,320.248,145.687,313.548,152.387z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M431.148,191.887c4.4,0,8.8-1.7,12.1-5l25.2-25.2c29.1-29.1,29.1-76.4,0-105.4l-34.4-34.4 c-14.1-14.1-32.8-21.8-52.7-21.8c-19.9,0-38.6,7.8-52.7,21.8l-25.2,25.2c-6.7,6.7-6.7,17.6,0,24.3l115.6,115.6 C422.348,190.187,426.748,191.887,431.148,191.887z M352.948,45.987c7.6-7.6,17.7-11.8,28.5-11.8c10.7,0,20.9,4.2,28.5,11.8 l34.4,34.4c15.7,15.7,15.7,41.2,0,56.9l-13.2,13.2l-91.4-91.4L352.948,45.987z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M162.848,467.187l243.5-243.5c6.7-6.7,6.7-17.6,0-24.3s-17.6-6.7-24.3,0l-239.3,239.5l-105.6,14.2l14.2-105.6 l228.6-228.6c6.7-6.7,6.7-17.6,0-24.3c-6.7-6.7-17.6-6.7-24.3,0l-232.6,232.8c-2.7,2.7-4.4,6.1-4.9,9.8l-18,133.6 c-0.7,5.3,1.1,10.6,4.9,14.4c3.2,3.2,7.6,5,12.1,5c0.8,0,1.5-0.1,2.3-0.2l133.6-18 C156.748,471.587,160.248,469.887,162.848,467.187z\"\n  }))), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlayerEdit);\nexport default __webpack_public_path__ + \"static/media/playerEdit.f616b71a.svg\";\nexport { ForwardRef as ReactComponent };","var _desc, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlayerLoop(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"playerButtons playerMobileIcons\",\n    width: \"1.25rem\",\n    height: \"1.25rem\",\n    viewBox: \"2 3 20 18\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"loop\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with sketchtool.\")), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"media-player\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"loop\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.8762659,15.1237341 C7.93014755,16.8486822 9.83062143,18 12,18 C14.6124377,18 16.8349158,16.3303847 17.6585886,14 L19.747965,14 C18.8598794,17.4504544 15.7276789,20 12,20 C9.28005374,20 6.87714422,18.6426044 5.43172915,16.5682708 L3,19 L3,13 L9,13 L6.8762659,15.1237341 Z M17.1245693,8.87543068 C16.0703077,7.15094618 14.1695981,6 12,6 C9.3868762,6 7.16381436,7.66961525 6.33992521,10 L4.25,10 C5.13831884,6.54954557 8.27134208,4 12,4 C14.7202162,4 17.123416,5.35695218 18.5692874,7.43071264 L21,5 L21,11 L15,11 L17.1245693,8.87543068 Z\",\n    id: \"Shape\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlayerLoop);\nexport default __webpack_public_path__ + \"static/media/playerLoop.a0bd9417.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlayerSave(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"playerButtons playerMobileIcons\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: \"1.25rem\",\n    height: \"1.25rem\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 49 49\",\n    style: {\n      enableBackground: \"new 0 0 49 49\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 27.5,\n    y: 5,\n    width: 6,\n    height: 10\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M39.914,0H0.5v49h48V8.586L39.914,0z M10.5,2h26v16h-26V2z M39.5,47h-31V26h31V47z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.5,32h7c0.553,0,1-0.447,1-1s-0.447-1-1-1h-7c-0.553,0-1,0.447-1,1S12.947,32,13.5,32z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.5,36h10c0.553,0,1-0.447,1-1s-0.447-1-1-1h-10c-0.553,0-1,0.447-1,1S12.947,36,13.5,36z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M26.5,36c0.27,0,0.52-0.11,0.71-0.29c0.18-0.19,0.29-0.45,0.29-0.71s-0.11-0.521-0.29-0.71c-0.37-0.37-1.04-0.37-1.41,0 c-0.19,0.189-0.3,0.439-0.3,0.71c0,0.27,0.109,0.52,0.29,0.71C25.979,35.89,26.229,36,26.5,36z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlayerSave);\nexport default __webpack_public_path__ + \"static/media/playerSave.6e661470.svg\";\nexport { ForwardRef as ReactComponent };","import Slider, { Range } from 'rc-slider';\r\nimport 'rc-slider/assets/index.css';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport '../styles/player.css'\r\nimport { useState, useEffect } from 'react';\r\nimport { ReactComponent as PlayButton } from \"../assets/playerPlay.svg\";\r\nimport { ReactComponent as PauseButton } from \"../assets/playerPause.svg\";\r\nimport { ReactComponent as NextTrackButton } from \"../assets/playerNextTrack.svg\";\r\nimport { ReactComponent as DeleteIconButton } from \"../assets/playerDelete.svg\";\r\nimport { ReactComponent as EditIconButton } from \"../assets/playerEdit.svg\";\r\nimport { ReactComponent as LoopIconButton } from \"../assets/playerLoop.svg\";\r\nimport { ReactComponent as SaveIconButton } from \"../assets/playerSave.svg\";\r\nimport { timestampFormat } from 'concurrently/src/defaults';\r\n// import { ReactComponent as SaveButton } from \"../assets/playerSave.svg\";\r\n\r\nfunction Player(props) {    \r\n    // add tooltip to range\r\n    const createSliderWithTooltip = Slider.createSliderWithTooltip;\r\n    const Range = createSliderWithTooltip(Slider.Range);\r\n    console.log(props.loopTrack)\r\n    console.log(props.isPlaying)\r\n    \r\n\r\n    var secondsToTime = function(duration) {\r\n        var date = new Date(duration);\r\n\r\n        const zeroPad = (num, places) => String(num).padStart(places, '0')\r\n      \r\n        return \"%minutes:%seconds\"\r\n          .replace('%minutes', zeroPad(date.getMinutes(), 2))\r\n          .replace('%seconds', zeroPad(date.getSeconds(), 2));\r\n    }\r\n\r\n    function handleToggleRender(){\r\n        \r\n        if(props.isPlaying){\r\n            return <PauseButton onClick={props.handleTogglePlayback}/>\r\n        }\r\n        else if(!props.isPlaying){\r\n            return <PlayButton onClick={props.handleTogglePlayback}/>\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Container className='playerItems' id='controlsContainer'>                     \r\n            <Row id='controlsRow' className=\"playerItems m-2\">                \r\n                <Col id='controls' className='playerItems d-flex'>\r\n                    <div className='playerItems d-flex controlsWrapper'>\r\n                        <DeleteIconButton onClick={props.handleDelete}/>\r\n                        <LoopIconButton className={`playerButtons playerMobileIcons ${props.loopTrack == true ? \"trackIconLooped\" : \"\"}`} onClick={props.handleLoopTrack}/>\r\n                        {/* <div className=\"playerLeftButtonWrapper d-inline-flex justify-evenly\">                            \r\n                            <button id=\"playerLoopButton\" className={`playerSideButtons ${props.loopTrack == true ? \"trackLooped\" : \"\"} btn btn-outline-secondary`} onClick={props.handleLoopTrack}>Loop Segment</button>\r\n                        </div> */}\r\n                        {/* <div className=\"playerMiddleButtonWrapper\"> */}\r\n                            <NextTrackButton id=\"playerNextTrackButtonLeft\" onClick={e => props.handleTrackChange(e, \"prev\")}/>                        \r\n                            {handleToggleRender()}\r\n                            <NextTrackButton id=\"playerNextTrackButtonRight\" onClick={e => props.handleTrackChange(e, \"next\")}/> \r\n                        {/* </div> */}\r\n                        \r\n                        \r\n                        {/* <div className=\"playerRightButtonWrapper d-inline-flex justify-evenly\">\r\n                            <button id=\"playerSaveButton\" className=\"playerSideButtons btn btn-outline-secondary\" onClick={props.handleSave}>Save Segment</button>\r\n                            \r\n                        </div> */}\r\n                        <SaveIconButton onClick={props.handleSave}/>\r\n                        <EditIconButton onClick={props.handleEdit}/>\r\n                    </div>               \r\n                    \r\n                </Col>\r\n                              \r\n            </Row>\r\n            <Row className=\"playerItems m-2\">\r\n                <Range className='playerItems' defaultValue={[props.sliderHandles[0], props.sliderHandles[1]]} \r\n                    max={props.trackDuration}\r\n                    onChange={props.handleSliderChange}\r\n                    tipFormatter={value => secondsToTime(value)}/>                 \r\n            </Row>   \r\n                             \r\n        </Container>\r\n        \r\n    )\r\n}\r\n\r\nexport default Player\r\n","import React from 'react'\r\nimport '../styles/tag.css'\r\n\r\nfunction Tag(props) {\r\n    // console.log(props.value);\r\n\r\n    if(props.deletable == true){\r\n        return (\r\n            <div className=\"tagResponsive\">  \r\n                    <span className=\"buttonTag\" onClick={(e) => {props.handleTagDelete(e, props.value);}}>\r\n                    {/* <svg id=\"buttonCircle\" width=\"1.75rem\" height=\"1.75rem\">\r\n                        <circle cx=\"50%\" cy=\"50%\" r=\"50%\" fill=\"green\" />                \r\n                    </svg> */}\r\n                        <svg className='buttonX' width=\"1.5rem\" height=\"1.5rem\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path \r\n                        fillRule=\"evenodd\" fill=\"white\"                                         \r\n                        d=\r\n                        \"M5.72 5.72a.75.75 0 011.06 0L12 10.94l5.22-5.22a.75.75 0 111.06 1.06L13.06 12l5.22 5.22a.75.75 0 11-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 01-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 010-1.06z\"/></svg>\r\n                \r\n                    </span>\r\n                    <span className=\"content pr-1 pb-1\">{props.value}</span>\r\n                </div>\r\n        )\r\n    }\r\n    else{\r\n        return (\r\n            <div className=\"tagDisplay\">  \r\n                <span className=\"content secondaryText\">{props.value}</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tag\r\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlusSign(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    className: \"plusSign\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"459.325px\",\n    height: \"459.325px\",\n    viewBox: \"0 0 459.325 459.325\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M459.319,229.668c0,22.201-17.992,40.193-40.205,40.193H269.85v149.271c0,22.207-17.998,40.199-40.196,40.193 c-11.101,0-21.149-4.492-28.416-11.763c-7.276-7.281-11.774-17.324-11.769-28.419l-0.006-149.288H40.181 c-11.094,0-21.134-4.492-28.416-11.774c-7.264-7.264-11.759-17.312-11.759-28.413C0,207.471,17.992,189.475,40.202,189.475h149.267 V40.202C189.469,17.998,207.471,0,229.671,0c22.192,0.006,40.178,17.986,40.19,40.187v149.288h149.282 C441.339,189.487,459.308,207.471,459.319,229.668z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlusSign);\nexport default __webpack_public_path__ + \"static/media/plusSign.a18cb713.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\r\nimport { Container, Row, Col, FormGroup, FormControl, Form} from 'react-bootstrap';\r\nimport Stack from 'react-bootstrap/Stack';\r\nimport '../styles/inputPanel.css'\r\nimport Tag from \"./Tag\";\r\nimport { ReactComponent as PlusSign } from \"../assets/plusSign.svg\";\r\n\r\nfunction InputPanel(props) {  \r\n    function handleButtonClicking(e){        \r\n        var timeout = setTimeout(() => {\r\n            e.target.blur();            \r\n        }, 125);\r\n    }         \r\n    console.log(\"props.tagsTray \\n\");     \r\n    console.log(props.tagsTray);\r\n\r\n    var inputPanel = \r\n    <div className=\"inputPanelItems\">\r\n        <Container className=\"inputPanelItems\">        \r\n            <Row className=\"inputPanelItems align-items-start\">            \r\n                <Col className=\"inputPanelItems\" md=\"6\">   \r\n                    <label className=\"inputPanelItems inputPanelLabels\" for=\"textAreaInputPanel\">Notes</label>               \r\n                    <textarea className=\"form-control inputPanelInput\" id=\"textAreaInputPanel\" placeholder=\"Enter your notes here\" rows=\"2\" value={props.notes} onChange={props.handleNotes}></textarea>\r\n                    \r\n                </Col>\r\n\r\n                <Col className=\"inputPanelItems\">\r\n                    <label className=\"inputPanelItems inputPanelLabels\" for=\"inputState\">Tag</label> \r\n                    <div className=\"inputPanelItems input-group mb-3\">\r\n                        <select id=\"inputState\" value={props.selectedTag} className=\"form-select inputPanelInput\" onChange={props.handleTags}>                            \r\n                            <option key=\"\" value=\"DEFAULT\" disabled >Choose a tag...</option>\r\n                            {props.tagList.map((value, index) => {\r\n                                return (<option key={index} value={value}>{value}</option>)\r\n                            })}\r\n                                    \r\n                        </select>\r\n                        <button id=\"submitSelectedTag\"className=\"btn btn-outline-secondary inputPanelButton d-flex align-items-center\" onClick={function(e){props.handleAddingTag(e);handleButtonClicking(e)}} ><PlusSign/></button>\r\n                    </div>\r\n                </Col>\r\n\r\n                <Col className=\"inputPanelItems\">  \r\n                        <label className=\"inputPanelItems inputPanelLabels\" for=\"customTagInputPanel\">Custom Tag</label>     \r\n                        <div className=\"inputPanelItems input-group mb-3\">                             \r\n                            <input type=\"text\" id=\"customTagInputPanel\" className=\"form-control inputPanelInput\" label=\"Test\" placeholder=\"Make a custom tag\" value={props.customTag} onChange={props.handleCustomTags}/>    \r\n                            <button id=\"customSubmit\" className=\"btn btn-outline-secondary inputPanelButton plusSignButton d-flex align-items-center\" onClick={function(e){props.handleAddingCustomTag(e);handleButtonClicking(e)}} ><PlusSign/></button>\r\n                        </div>                         \r\n                            \r\n                </Col>\r\n            </Row> \r\n            <Row className=\"transparentContainer\">\r\n                <Col className=\"transparentContainer\">\r\n                    <div className=\"inputPanelItems transparentContainer\">\r\n                        {props.tagsTray.length > 0\r\n                            ? \r\n                            <Stack className=\"tagTray tagTrayInputPanel\" direction=\"horizontal\" gap={3}>\r\n                                {props.tagsTray.map(value => {\r\n                                    return <Tag key={value} value={value} deletable={true} handleTagDelete={props.handleTagDelete} />\r\n                                })} \r\n                            </Stack> \r\n                            : \r\n                            <Stack className=\"tagTray tagTrayInputPanel\" direction=\"horizontal\" gap={3}>\r\n                                <Tag  value=\"Sample tag\" deletable={true} handleTagDelete={props.handleTagDelete} />\r\n                            </Stack>}            \r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n            \r\n                    \r\n        </Container>\r\n        \r\n        \r\n        \r\n    </div>\r\n    \r\n    return (\r\n        inputPanel\r\n    )\r\n}\r\n\r\nexport default InputPanel\r\n","var _polygon;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrackPlay(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"0.8rem\",\n    height: \"0.8rem\",\n    className: \"trackButtons play\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 472.615 472.615\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _polygon || (_polygon = /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"50.273,0 50.273,472.615 422.342,236.308\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrackPlay);\nexport default __webpack_public_path__ + \"static/media/trackPlay.0a214e9f.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrackPlaying(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    x: \"0px\",\n    y: \"0px\",\n    className: \"trackButtons equilizer\",\n    viewBox: \"0 0 4 4.5\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"bar bar1\",\n    transform: \"translate(0,0)\",\n    y: 0\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"bar bar2\",\n    transform: \"translate(1 0)\",\n    y: 0\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"bar bar3\",\n    transform: \"translate(2 0)\",\n    y: 0\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"bar bar4\",\n    transform: \"translate(3 0)\",\n    y: 0\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrackPlaying);\nexport default __webpack_public_path__ + \"static/media/trackPlaying.79e9b982.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTrackPause(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"trackButtons pause\",\n    width: \"0.8rem\",\n    height: \"0.8rem\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 10 12\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    width: 3,\n    height: 12\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 7,\n    width: 3,\n    height: 12\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrackPause);\nexport default __webpack_public_path__ + \"static/media/trackPause.916ad603.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Container, Row, Col, FormGroup, FormControl, Form, Tooltip, OverlayTrigger} from 'react-bootstrap';\r\nimport '../styles/Library.css';\r\nimport stockImage64x64 from '../assets/symbol_questionmark64x64.png';\r\nimport Tag from './Tag.js';\r\nimport Stack from 'react-bootstrap/Stack';\r\nimport ReactDOM, { render } from 'react-dom';\r\nimport { ReactComponent as TrackPlay } from \"../assets/trackPlay.svg\";\r\nimport { ReactComponent as TrackEqualizer } from \"../assets/trackPlaying.svg\";\r\nimport { ReactComponent as TrackPause } from \"../assets/trackPause.svg\";\r\n\r\nfunction Library(props) {\r\n    // console.log(props.library.map(record => {\r\n    //     return record.trackUri.replace(\"spotify:track:\", \"\");\r\n    // }))\r\n\r\n    // var arrayOfTrackIds = props.library.map(record => {\r\n    //     return record.trackUri.replace(\"spotify:track:\", \"\");\r\n    // });\r\n\r\n    // var tracksInfo = props.getTracks(props.library.map(record => {\r\n    //     return record.trackUrl\r\n    // }))   \r\n    \r\n    var [indexElement, set_index_element] = useState();\r\n    var indexElementType;\r\n    var prevButtonSelected = useRef(-1);\r\n    // var activeElements = {\"play\": <TrackPlay onClick={e => props.handleTrackClick(e, index)}/>,\r\n    //  \"pause\": <TrackPause onClick={e => props.handleTrackClick(e, index)}/>,\r\n    //   \"equalizer\": <TrackEqualizer />};    \r\n    var hoveredRow = props.libraryState.hoveredRow;\r\n\r\n    console.log(props.selectedRow)\r\n\r\n    function handleIndexColumn(track, index){\r\n        // var type = props.handleIndexType(track, index);\r\n        // console.log(track);\r\n\r\n        // console.log(`playing: ${props.isPlaying}`);\r\n        // console.log(`track = current track: ${props.currentTrack}`);\r\n        // console.log(track)\r\n        // console.log(`active row: ${props.activeRow}`);\r\n\r\n        if(props.isPlaying){\r\n            if(track === props.currentTrack){\r\n                if(index == props.activeRow){\r\n                    if(hoveredRow == index){\r\n                        return <TrackPause id=\"pause\" onClick={e => props.handleTrackClick(index, \"pause\", e)}/>;\r\n                    }\r\n                    else{\r\n                        return <TrackEqualizer id=\"equalizer\" />;\r\n                    }\r\n                }\r\n                else{\r\n                    if(hoveredRow == index){\r\n                        return <TrackPlay id=\"play\" onClick={e => props.handleTrackClick(index, \"play\", e)}/>;\r\n                    }\r\n                    else{\r\n                        return(\r\n                            <div className=\"indexValue genericTextContent secondaryText rowContent\">\r\n                                {index + 1}\r\n                            </div>\r\n                        )\r\n                        \r\n                        \r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                if(hoveredRow == index){\r\n                    return <TrackPlay onClick={e => props.handleTrackClick(index, \"play\", e)}/>;\r\n                }\r\n                else{\r\n                    return(\r\n                        <div className=\"indexValue genericTextContent secondaryText rowContent\">\r\n                            {index + 1}\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            if(hoveredRow == index){\r\n                return <TrackPlay onClick={e => props.handleTrackClick(index, \"play\", e)}/>;\r\n            }\r\n            else{\r\n                return(\r\n                    <div className=\"indexValue genericTextContent secondaryText rowContent\">\r\n                        {index + 1}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n        \r\n\r\n        // if(index == activeRow.index){\r\n        //     if(activeRow.type === \"number\") return index + 1;\r\n        //     if(activeRow.type === \"play\") return <TrackPlay onClick={e => props.handleTrackClick(e, index, \"play\")}/>;\r\n        //     if(activeRow.type === \"pause\") return <TrackPause onClick={e => props.handleTrackClick(e, index, \"pause\")}/>;\r\n        //     if(activeRow.type === \"equalizer\") return <TrackEqualizer />;\r\n        // }       \r\n        // return index + 1;\r\n    }\r\n    \r\n\r\n    function renderLibrary(hoveredRowIndex){\r\n        return (\r\n            <Container className=\"libraryContainer justify-content-center\">\r\n                {/* <div className=\"libraryInnerWrapper\"> */}                \r\n                <Row className=\"rowContent headerRow flex-nowrap\">\r\n                    <Col md=\"auto\" sm=\"2\" className=\"rowContent indexColHeader \">\r\n                        <div className=\"genericTextContent secondaryText rowContent headerIndex\" style={{width:\"2rem\", textAlign:\"right\"}}>\r\n                            #\r\n                        </div>\r\n                    </Col>\r\n                    <Col md=\"4\" xs=\"auto\" sm=\"5\" className=\"rowContent genericTextContent secondaryText titleColHeader\">\r\n                        TITLE\r\n                    </Col>\r\n                    <Col md=\"3\" className=\"rowContent genericTextContent secondaryText d-none d-md-block\">\r\n                        ALBUM\r\n                    </Col>\r\n                    <Col md=\"2\" sm=\"5\" className=\"rowContent genericTextContent secondaryText notesRow d-none d-sm-block\">\r\n                        NOTES (HOVERABLE)\r\n                    </Col>\r\n                    <Col md=\"auto\" className=\"rowContent genericTextContent secondaryText resizableCol d-none d-md-block\">\r\n                        TAGS (HOVERABLE)\r\n                    </Col>\r\n\r\n                </Row>\r\n\r\n                {/* make shift border that doesn't span the whole bottom width of row above */}\r\n                {/* <Row className=\"d-flex justify-content-center\">\r\n                    <Col className=\"align-self-center\" style={{border:\"1px solid white\", marginRight:\"-2rem\", marginLeft:\"-2rem\"}}>\r\n                    </Col>\r\n                </Row> */}\r\n                \r\n                <div className=\"d-flex justify-content-center headerSeparator\" style={{width:\"100%\"}}>\r\n                    <div style={{borderTop:\"0.0625rem solid #acacac\", width:\"100%\"}}></div>\r\n                </div>\r\n\r\n                \r\n                {props.library.map((record, index) => {\r\n                    var test = 1;\r\n                    return (\r\n                        <Row id={'row-' + index} className={`rowContent flex-nowrap ${index == hoveredRowIndex ? \"hovered\" : \"\"} ${index == props.selectedRow ? \"selectedRow hovered\" : \"\"}`} style={{marginTop:\"0.75rem\", marginBottom:\"0.75rem\"}}\r\n                        onMouseEnter={e => props.handleOnMouseEnter(e, index)}\r\n                        onMouseLeave={e => props.handleOnMouseLeave(e, index)}\r\n                        onClick={e => props.handleSelectRow(e, index)}\r\n                        // onMouseOver={e => props.handleMouseOver(e, index)}                        \r\n                        >\r\n                            <Col md=\"auto\" sm=\"2\" className=\"d-flex rowContent indexCol libraryCol align-items-center\">\r\n                                <div className=\"d-flex align-items-end justify-content-end rowContent typeNumber indexRow \" id={`index-${index}`} style={{width:\"2rem\", textAlign:\"right\"}}>\r\n                                    {handleIndexColumn(record.trackUri, index)} \r\n                                </div>\r\n                                \r\n                            </Col>\r\n                            \r\n                            <Col md=\"4\" xs=\"auto\" sm=\"5\" className=\"rowContent d-flex align-items-center titleCol\">\r\n                                <div className=\"rowContent titleColLeft\">\r\n                                    <img src={handleImageSelection(record.trackInfo.album.images)} style={{height:\"2.5rem\", width:\"2.5rem\"}}/>\r\n                                </div>\r\n\r\n                                <div className=\"rowContent titleColRight\">\r\n                                    <div className=\"genericTextContent rowContent\" style={{marginBottom:\"-0.25rem\"}}>\r\n                                        {record.trackInfo.name}\r\n                                    </div>\r\n                                    <div className=\"secondaryText genericTextContent rowContent\" style={{marginTop:\"-0.25rem\"}} >\r\n                                        {handleArtists(record.trackInfo.artists)}\r\n                                    </div>   \r\n                                </div>\r\n\r\n                            </Col>\r\n                            {/* <Col md=\"auto\" className=\"d-flex rowContent indexCol libraryCol align-items-center\">\r\n                                <div className=\"d-flex align-items-end justify-content-end rowContent typeNumber indexRow\" id={`index-${index}`} style={{width:\"2rem\", textAlign:\"right\"}}>\r\n                                    {handleIndexColumn(record.trackUri, index)} \r\n                                </div>\r\n                                \r\n                            </Col>\r\n                            <Col md=\"auto\" className=\"rowContent imageCol\">\r\n                                <img src={handleImageSelection(record.trackInfo.album.images)} style={{height:\"40px\", width:\"40px\"}}/>\r\n                            </Col>\r\n                            <Col md=\"3\" className=\"rowContent libraryCol\" >\r\n                                <div className=\"genericTextContent rowContent\" style={{marginBottom:\"-0.25rem\"}}>\r\n                                    {record.trackInfo.name}\r\n                                </div>\r\n                                <div className=\"secondaryText genericTextContent rowContent\" style={{marginTop:\"-0.25rem\"}} >\r\n                                    {handleArtists(record.trackInfo.artists)}\r\n                                </div>                            \r\n                            </Col> */}\r\n                            <Col md=\"3\" className=\"rowContent d-flex align-items-center d-none d-md-block\">\r\n                                <div className=\"secondaryText genericTextContent rowContent\">\r\n                                    {record.trackInfo.album.name}\r\n                                </div>\r\n                            </Col>\r\n                            <Col md=\"2\" sm=\"5\" className=\"notesRow rowContent d-flex align-items-center d-none d-sm-block\">\r\n                            {/* only add tooltip if there is overflow. Implementation is rudimentary until better workaround can be found */}\r\n                            {record.notes.length > 37\r\n                            ? (\r\n                                <OverlayTrigger  \r\n                                    onMouseLeave={e => handleMouseLeave(e, index)}                                  \r\n                                    key={index}\r\n                                    placement='bottom'\r\n                                    overlay={\r\n                                        <Tooltip id={`notes-${index}`}\r\n                                        >\r\n                                            {record.notes}\r\n                                        </Tooltip>\r\n                                    }>\r\n                                    <div className=\"genericTextContent secondaryText rowContent\">{record.notes}</div>\r\n                                </OverlayTrigger>        \r\n                            )\r\n                            : (\r\n                                <div className=\"genericTextContent secondaryText rowContent\">{record.notes}</div> \r\n                            )}                                                  \r\n                                                        \r\n                            </Col>\r\n                            <Col className=\"rowContent d-flex align-items-center d-none d-md-block\" id=\"tagTrayCol\" style={{overflowX:\"auto\"}}>\r\n                                {/* <div className=\"rowContent\"> */}\r\n                                <OverlayTrigger                                    \r\n                                    key={index}\r\n                                    placement='bottom'\r\n                                    overlay={\r\n                                        <Tooltip id={`tags-${index}`}>\r\n                                            <Stack className=\"tagTrayLibrary\" direction=\"horizontal\" gap={3}>\r\n                                    {record.tags.map((tag, index) => {\r\n                                            return (<Tag className=\"tagTrayLibraryContent\" key={index} value={tag} deletable={false} />)\r\n                                        })}\r\n                                </Stack>\r\n                                        </Tooltip>\r\n                                    }>\r\n                                    <Stack className=\"tagTray tagTrayLibrary\" direction=\"horizontal\" gap={3}>\r\n                                    {record.tags.map((tag, index) => {\r\n                                            return (<Tag className=\"tagTrayLibraryContent\" key={index} value={tag} deletable={false} />)\r\n                                        })}\r\n                                </Stack>\r\n                                </OverlayTrigger> \r\n                                \r\n                                    \r\n                                {/* </div> */}\r\n                                \r\n                            </Col>\r\n                            \r\n                        </Row>\r\n                        // <div className=\"d-flex align-items-center\">\r\n                        //     <div style={{width:\"2rem\", textAlign:\"right\", margin:\"1rem\"}}>                            \r\n                        //         {index + 1}  \r\n                        //     </div>\r\n                        //     <img src={record.images.length == 3 ? record.images[2].url : \"nothing\"} style={{height:\"64px\", width:\"64px\", margin:\"1rem\"}}/>\r\n                        //     <div style={{margin:\"1rem\"}}>\r\n                        //         <div >\r\n                        //             {record.notes}\r\n                        //         </div>\r\n                        //         <div className=\"text-muted\" >\r\n                        //             {record.notes}\r\n                        //         </div>\r\n                        //     </div>\r\n                        //     <div style={{marginLeft:\"10rem\", a}}>\r\n                        //         {record.notes}\r\n                        //     </div>\r\n                            \r\n                        // </div>                \r\n                    )\r\n                })}\r\n                {/* <TrackEqualizer /> */}\r\n            \r\n                {/* </div> */}\r\n                    \r\n            </Container>    \r\n        )\r\n    }\r\n\r\n    \r\n    function handleImageSelection(images){    \r\n        const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)    \r\n        if(images.length != 0 && images.at(-1).width == 64 && images.at(-1).height == 64){\r\n            if(vw > 1200){}\r\n            return images.at(0).url;\r\n        }\r\n        else{\r\n            return stockImage64x64;\r\n        }\r\n    }\r\n\r\n    function handleArtists(artists){\r\n        return artists.map(obj => {\r\n            return obj.name;\r\n        }).join(', ');\r\n\r\n    }\r\n\r\n    function handlePlayButtonClick(e, trackIndexContainer, index){\r\n        console.log(\"buttonclicked\");\r\n        props.handleTrackClick(e, index);\r\n        console.log(trackIndexContainer);\r\n        console.log(trackIndexContainer.classList.contains(\"typePlay\"));\r\n        if(trackIndexContainer.classList.contains(\"typePlay\")){\r\n            trackIndexContainer.classList.replace(\"typePlay\", \"typePlayingHover\");\r\n            if(prevButtonSelected.current != -1){\r\n                var prevButtonElement = document.getElementById(`index-${prevButtonSelected.current}`);\r\n                prevButtonElement.classList.replace(\"typePlayingNoHover\", \"typeNumber\");\r\n                ReactDOM.render(\r\n                    prevButtonSelected.current + 1\r\n                , prevButtonElement)\r\n            }\r\n            prevButtonSelected.current = index;\r\n            ReactDOM.render(\r\n                <TrackPause onClick={e => handlePlayButtonClick(e, trackIndexContainer, index)}/>\r\n                \r\n            , trackIndexContainer);\r\n            \r\n        }\r\n        else if(trackIndexContainer.classList.contains(\"typePlayingHover\")){\r\n            trackIndexContainer.classList.replace(\"typePlayingHover\", \"typePlay\");\r\n            prevButtonSelected.current = -1;\r\n            ReactDOM.render(\r\n                <TrackPlay onClick={e => handlePlayButtonClick(e, trackIndexContainer, index)}/>\r\n                // <TrackPlay onClick={e => handlePlayButtonClick(e, trackIndexContainer, index)}/>\r\n                \r\n            , trackIndexContainer);\r\n            \r\n        }\r\n\r\n        \r\n        \r\n    }\r\n\r\n    \r\n\r\n    function handleMouseEnter(e, index){\r\n        var row = document.getElementById(`row-${index}`);\r\n        console.log(\"entered\");\r\n        console.log(index);\r\n        // give a grey highlight\r\n        \r\n        console.log(\"entered info:\")\r\n        console.log(e);\r\n        console.log(e.relatedTarget);\r\n\r\n        row.style.background = \"#2a2a2a\";        \r\n        var nodes = row.querySelectorAll(\"div > div :not(.tag):not(.content)\");        \r\n        for(var i=0; i < nodes.length; i++){\r\n            nodes[i].style.background = \"#2a2a2a\";\r\n        }\r\n\r\n        // change color of muted text\r\n        var nodes = row.querySelectorAll(\".secondaryText\");\r\n        for(var i=0; i < nodes.length; i++){\r\n            nodes[i].style.color = '#f9f9f9';                        \r\n        }    \r\n\r\n        // change index to a play button\r\n        var trackIndexContainer = row.querySelector(`#index-${index}`);\r\n        // row.innerHTML =\r\n        //     ``\r\n        if(trackIndexContainer.classList.contains(\"typeNumber\")){\r\n            trackIndexContainer.classList.replace(\"typeNumber\", \"typePlay\");\r\n            // trackIndexContainer.classList.replace(\"justify-content-end\", \"justify-content-center\");\r\n            console.log('trackIndexContainer on hover: \\n');\r\n            console.log(trackIndexContainer);\r\n            ReactDOM.render(\r\n                <TrackPlay onClick={e => handlePlayButtonClick(e, trackIndexContainer, index)}/>\r\n                \r\n            , trackIndexContainer);\r\n            console.log(trackIndexContainer);\r\n        }\r\n        else if(trackIndexContainer.classList.contains(\"typePlayingNoHover\")){\r\n            trackIndexContainer.classList.replace(\"typePlayingNoHover\", \"typePlayingHover\");\r\n            ReactDOM.render(\r\n                <TrackPause onClick={e => handlePlayButtonClick(e, trackIndexContainer, index)}/>\r\n                \r\n            , trackIndexContainer);\r\n            console.log(trackIndexContainer);\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    function handleMouseLeave(e, index){\r\n        var row = document.getElementById(`row-${index}`);\r\n        console.log(index);\r\n        console.log(\"left\");\r\n        console.log(e);\r\n        if(e.relatedTarget && (e.relatedTarget.tagName === 'svg' || e.relatedTarget.tagName === 'polygon' || e.relatedTarget.tagName === 'rect')) return\r\n        \r\n        \r\n        row.style.background = \"\";\r\n        var nodes = row.querySelectorAll(\"div > div, svg\");        \r\n        for(var i=0; i < nodes.length; i++){\r\n            nodes[i].style.background = \"\";\r\n        }        \r\n        var nodes = row.querySelectorAll(\".secondaryText\"); \r\n        for(var i=0; i < nodes.length; i++){\r\n            nodes[i].style.color = '#acacac';    \r\n        } \r\n        // change index to a play button\r\n        var trackIndexContainer = row.querySelector(`#index-${index}`);\r\n        console.log(trackIndexContainer.children, trackIndexContainer.childNodes);\r\n        if(trackIndexContainer.classList.contains(\"typePlay\")){\r\n            trackIndexContainer.classList.replace(\"typePlay\", \"typeNumber\");\r\n            ReactDOM.render((index + 1), trackIndexContainer);    \r\n        }\r\n\r\n        else if(trackIndexContainer.classList.contains(\"typePlayingHover\")){\r\n            trackIndexContainer.classList.replace(\"typePlayingHover\", \"typePlayingNoHover\");\r\n            ReactDOM.render(\r\n                <TrackEqualizer />\r\n                , trackIndexContainer);    \r\n        }\r\n        // if(row.classList.contains(\"typePlaying\")){\r\n\r\n        // }\r\n        \r\n    }\r\n    \r\n    return renderLibrary(hoveredRow);\r\n    \r\n}\r\n\r\nexport default Library\r\n","export default \"data:image/png;base64,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\"","import useAuth from \"./useAuth\";\r\nimport visualizer from \"./Visualizer\";\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport '../styles/dashboard.css'\r\nimport Player from './Player';\r\nimport SpotifyWebApi from \"spotify-web-api-node\";\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport InputPanel from \"./InputPanel\";\r\nimport Library from \"./Library\";\r\n\r\nconst spotifyApi = new SpotifyWebApi({\r\n    clientId: \"a51237d57ccc4dbf9f1162c378934b9c\"\r\n  })\r\n\r\nfunction Dashboard({ code }) {\r\n  const accessToken = useAuth(code);  \r\n  const defaultTimeDuration = 10000;\r\n  var timeout;\r\n  var sliderTimeOutFlag = false;\r\n  var previousValues = useRef([Math.round(defaultTimeDuration * 1/5), Math.round(defaultTimeDuration * 2/5)]);\r\n  var prevHandle = useRef(0);\r\n  var timeDuration = useRef();\r\n  var dataUpdateTimer = useRef();\r\n  var dataUpdateRetryTimer = useRef();\r\n  var trackLoopTimer = useRef();\r\n  var testCount = useRef(0);\r\n  var user = useRef();\r\n  var indexOfSelectedTrack = useRef(-1);\r\n  var librarySize = useRef(-1);\r\n  \r\n  \r\n\r\n  // state variables for InputPanel\r\n  var [customTag, set_custom_tag] = useState(\"\");\r\n  var [selectedTag, set_tag] = useState(\"DEFAULT\");\r\n  var [notes, set_notes] = useState();\r\n  var [tagsTray, set_tags_tray] = useState([]);\r\n  var [tagList, set_tagList] = useState([\"epic\", \"ethereal\", \"sad\", \"ambient\", \"vocals\", \"drum pattern\", \"guitar solo\", \"sound design\", \"bass\"]);\r\n  var [library, set_library] = useState([]);\r\n  var [trackDetails, set_track_details] = useState([]);\r\n  var [libraryState, set_library_state] = useState({hoveredRow: -1});\r\n  var [selectedRow, set_selected_row] = useState(-1);\r\n  const [activeRow, set_active_row] = useState(-1);  \r\n  \r\n  const [data, set_data] = useState();\r\n  // const [sliderHandles, set_slider_handles] = useState([Math.round(defaultTimeDuration * 1/5), Math.round(defaultTimeDuration * 2/5)]);\r\n  const [trackUri, set_track_uri] = useState();\r\n  // const [prevHandle, set_prev_handle] = useState(0); \r\n  const [loopTrack, set_loop_track] = useState(true);\r\n  var trackLoopRef = useRef(loopTrack);\r\n  \r\n\r\n  useEffect(() => {\r\n    visualizer()\r\n  }, [])\r\n\r\n\r\n  let dashboard =\r\n  <div>\r\n    <canvas id=\"dashboardVisualizer\" class=\"webgl\"></canvas>  \r\n    <Container id='dashboard'>\r\n          <div id='top' className='py-2'>\r\n          {/* {libraryState.hoveredRow} */}\r\n          <a href=\"/\" class=\"dashboardBackButton btn btn-outline-secondary btn-info\" role=\"button\">Homepage</a>\r\n          </div>            \r\n          <div id='library' className='my-2'><Library \r\n          library={library}\r\n          libraryState={libraryState}\r\n          handleTrackClick={handleTrackClick}\r\n          handleTagDelete={handleTagDelete}\r\n          handleOnMouseEnter={handleOnMouseEnter}\r\n          handleOnMouseLeave={handleOnMouseLeave}\r\n          handleMouseOver={handleMouseOver}\r\n          handleIndexType={handleIndexType}\r\n          currentTrack={data ? data.body.item.uri : null}\r\n          isPlaying={data ? data.body.is_playing : null}\r\n          activeRow={activeRow} \r\n          selectedRow={selectedRow}\r\n          handleSelectRow={handleSelectRow} /></div>\r\n          <div id='inputPanel' className='my-2'><InputPanel \r\n          handleTags={handleTags}\r\n          handleNotes={handleNotes}\r\n          handleCustomTags={handleCustomTags}          \r\n          handleAddingCustomTag={handleAddingCustomTag}\r\n          handleAddingTag={handleAddingTag}\r\n          notes={notes}\r\n          customTag={customTag}\r\n          selectedTag={selectedTag}\r\n          tagList={tagList}\r\n          tagsTray={tagsTray}\r\n          handleTagDelete={handleTagDelete} /></div>\r\n          <div id='player'><Player trackDuration={timeDuration.current !== undefined ? timeDuration.current : defaultTimeDuration} \r\n          handleTogglePlayback={handleTogglePlayback}     \r\n          isPlaying={data ? data.body.is_playing : null}               \r\n          handleSliderChange={handleSliderChange}\r\n          handleSave={handleSave}          \r\n          sliderHandles={previousValues.current}\r\n          handleLoopTrack={handleLoopTrack}\r\n          handleTrackChange={handleTrackChange}\r\n          loopTrack={loopTrack} \r\n          handleEdit={handleEdit}\r\n          handleDelete={handleDelete} /></div>            \r\n    </Container>\r\n  </div>\r\n\r\n  \r\n\r\n  // update access token\r\n  useEffect(() => {\r\n      if (!accessToken) return\r\n      spotifyApi.setAccessToken(accessToken)\r\n    }, [accessToken])\r\n\r\n  function fetchLibrary(data, username){\r\n    console.log(username)\r\n    axios.get('/api/items', {\r\n      params:{\r\n        user: username\r\n        }\r\n      }).then(res => {\r\n        console.log('library: \\n');\r\n        console.log(res.data);\r\n        \r\n        // make array of track id's\r\n        var arrayOfTrackIds = res.data.map(record => {\r\n          return record.trackUri.replace(\"spotify:track:\", \"\");\r\n        });\r\n        // console.log(arrayOfTrackIds);\r\n\r\n        // query all track id's for info\r\n        spotifyApi.getTracks(arrayOfTrackIds).then(tracksRes => {\r\n          // to avoid an index out of bounds error\r\n          if(res.data.length != tracksRes.body.tracks.length) return alert('error with fetching library, please try again');\r\n          // create new property containing track info\r\n          res.data.map((record, index) => {\r\n            record.trackInfo = tracksRes.body.tracks[index];\r\n                 \r\n          })\r\n          // store result\r\n          // var tempArray = library\r\n          // tempArray.push()\r\n          set_library(res.data)\r\n          librarySize.current = res.data.length;\r\n          // console.log(res.data);\r\n          // for debugging\r\n          spotifyApi.getMyCurrentPlaybackState().then(data => {\r\n              console.log(data);\r\n              if(data.body !== null){\r\n                set_data(data);        \r\n              }              \r\n            })\r\n          // clearDataTimers();\r\n          // updateCurrentUserState();\r\n          })\r\n          \r\n          .catch(() => {            \r\n            alert(\"error with retrieving library\");\r\n            // for debugging\r\n            spotifyApi.getMyCurrentPlaybackState().then(data => {\r\n              console.log(data);\r\n              if(data.body !== null){\r\n                set_data(data);        \r\n              }              \r\n            }) \r\n          })\r\n                   \r\n      })\r\n      \r\n      .catch(() => {            \r\n          alert(\"error with retrieving library\");\r\n          // for debugging\r\n          spotifyApi.getMyCurrentPlaybackState().then(data => {\r\n            console.log(data);\r\n            if(data.body !== null){\r\n              set_data(data);        \r\n            }              \r\n          }) \r\n      })\r\n  }\r\n\r\n  // update user data\r\n  useEffect(() => {\r\n    if (!accessToken) return\r\n    if (!spotifyApi) return\r\n    spotifyApi.getMe().then(data => {\r\n      user.current = data.body.display_name;\r\n      fetchLibrary(data, [\"50b3753a7ed653a553c26c8585fc5818(preview)\", data.body.display_name])\r\n      // fetchLibrary(data, data.body.display_name)      \r\n    })\r\n    // const fetchInterval = setInterval(() => {\r\n    //   spotifyApi.getMyCurrentPlaybackState().then(data => {\r\n    //     console.log(data);\r\n    //     set_data(data);\r\n    //   })\r\n    // }, 10000);\r\n\r\n    \r\n\r\n    return () => clearDataTimers();\r\n  }, [accessToken])\r\n\r\n  useEffect(() => {    \r\n    console.log(\"data updated!\");\r\n    if(data !== undefined && data.body != null) {\r\n\r\n      \r\n\r\n\r\n      // if no previous tracks, update handles to be in spots 1/5 and 2/5\r\n      if(trackUri === undefined){\r\n        previousValues.current = [Math.round(data.body.item.duration_ms * 1/5), Math.round(data.body.item.duration_ms * 2/5)];\r\n        timeDuration.current = data.body.item.duration_ms;\r\n        set_track_uri(data.body.item.uri);\r\n      }\r\n      \r\n      // if there was a previous track, update handles to same relative position\r\n      // condition checks that there are values in prevValues and timeDuration\r\n      else if(trackUri !== data.body.item.uri && previousValues.current && timeDuration){\r\n        previousValues.current = [Math.round(data.body.item.duration_ms * (previousValues.current[0] / timeDuration.current)),\r\n         Math.round(data.body.item.duration_ms * (previousValues.current[1] / timeDuration.current))];\r\n        timeDuration.current = data.body.item.duration_ms;\r\n        set_track_uri(data.body.item.uri); \r\n      } \r\n    }\r\n\r\n  }, [data]) \r\n  \r\n  // function updateLibraryActiveRows(data){\r\n  //   // guard against accessing properties on null\r\n  //   if(!data) return;\r\n    \r\n  //   // determine state of 'active' rows\r\n  //   var track = data.body.item.uri;\r\n  //   var isPlaying = data.body.is_playing;\r\n  //   var trackIndex = indexOfPlayingTrackInLibrary(track);\r\n  //   var isPlayingTrackInLibrary = trackIndex != -1 && isPlaying ? 1 : 0;\r\n  //   var isTrackRowHovered = isTrackRowHoveredFunct(trackIndex);\r\n\r\n  //   if(!isPlayingTrackInLibrary && isTrackRowHovered){\r\n  //     set_library_state({...libraryState, activeRow:{index:trackIndex, type:\"play\"}})\r\n  //   }\r\n  //   else if(isPlayingTrackInLibrary && isTrackRowHovered){\r\n  //     set_library_state({...libraryState, activeRow:{index:trackIndex, type:\"pause\"}})\r\n  //   }\r\n  //   else if(isPlayingTrackInLibrary && !isTrackRowHovered){\r\n  //     set_library_state({...libraryState, activeRow:{index:trackIndex, type:\"equalizer\"}})\r\n  //   }\r\n  //   else if(!isPlayingTrackInLibrary && !isTrackRowHovered){\r\n  //     set_library_state({...libraryState, activeRow:{index:-1, type:\"number\"}})\r\n  //   }\r\n  // }\r\n\r\n  useEffect(() => { \r\n    console.log(\"library:\")   \r\n    console.log(library)    \r\n  }, [library]) \r\n  \r\n  // useEffect(() => {   \r\n  //   var index = libraryState.hoveredRow; \r\n  //   if(index == -1) return    \r\n  //   var row = document.getElementById(`row-${index}`);  \r\n  //   row.style.background = \"#2a2a2a\";\r\n  // }, [libraryState.hoveredRow]) \r\n  \r\n\r\n  function handleIndexType(track, index){    \r\n    // var isPlaying = 0;\r\n    // var trackIndex = -1;\r\n    // if(data){\r\n    //   isPlaying = data.body.is_playing;\r\n\r\n    //   trackIndex = indexOfPlayingTrackInLibrary(data.body.item.uri);\r\n    // } \r\n    // var isPlayingTrackInLibrary = trackIndex !== -1 && isPlaying ? 1 : 0;\r\n    // var isTrackRowHovered = isTrackRowHoveredFunct(trackIndex);\r\n    // if(!isPlayingTrackInLibrary && isTrackRowHovered){\r\n    //   return \"play\";\r\n    // }\r\n    // else if(isPlayingTrackInLibrary && isTrackRowHovered){\r\n    //   return \"pause\";\r\n    // }\r\n    // else if(isPlayingTrackInLibrary && !isTrackRowHovered){\r\n    //   return \"equalizer\";\r\n    // }\r\n    // else if(!isPlayingTrackInLibrary && !isTrackRowHovered){\r\n    //   return \"number\";\r\n    // }\r\n  }\r\n\r\n  function indexOfPlayingTrackInLibrary(track){    \r\n    var libraryTrackUris = library.map((record, index) => {return record.trackUri});\r\n    var index = libraryTrackUris.indexOf(track);\r\n    \r\n    // console.log(libraryTrackUris, index);\r\n    return index;  \r\n  }\r\n\r\n  function isTrackRowHoveredFunct(index){\r\n    if(index == -1) return 0;\r\n    return libraryState.hoveredRow == index ? 1 : 0;\r\n  }\r\n\r\n  function handleOnMouseEnter(e, index){\r\n    console.log('entered');\r\n    set_library_state({...libraryState, hoveredRow: index});\r\n    \r\n  }\r\n\r\n  function handleOnMouseLeave(e, index){\r\n    console.log('left');\r\n    set_library_state({...libraryState, hoveredRow: -1});\r\n    \r\n  }\r\n\r\n  function handleMouseOver(e, index){\r\n    set_library_state({...libraryState, hoveredRow: index});\r\n  }\r\n\r\n  function handleSelectRow(e, index){\r\n    if(selectedRow == -1 || index != selectedRow){\r\n      set_selected_row(index);\r\n    }\r\n    else {\r\n      set_selected_row(-1);\r\n    }\r\n    \r\n  }\r\n\r\n  function handleTrackChange(e, direction){\r\n    var current_index = activeRow;\r\n    // determine if this is a call for next or prev track\r\n    if(direction === \"next\"){\r\n      // increment index of active row, call trackClick for new index and wrap around library size if need be      \r\n      if(current_index + 1 < librarySize.current){ \r\n        console.log(current_index + 1)       \r\n        handleTrackClick(current_index + 1, \"play\")\r\n      }\r\n      else{\r\n        handleTrackClick(0, \"play\")\r\n      }\r\n    }\r\n    else if(direction === \"prev\"){\r\n      if(current_index - 1 < 0){\r\n        handleTrackClick(librarySize.current - 1, \"play\")\r\n      }\r\n      else{\r\n        handleTrackClick(current_index - 1, \"play\")\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  // function retryUpdateCurrentUserState(){\r\n\r\n  // }\r\n\r\n  function clearDataTimers(){\r\n    clearTimeout(dataUpdateTimer.current);\r\n    clearTimeout(dataUpdateRetryTimer.current);\r\n  }\r\n\r\n  // toggle the loopTrack value\r\n  function handleLoopTrack(){\r\n    if(loopTrack == true){\r\n      set_loop_track(false)\r\n      trackLoopRef.current = false\r\n    }\r\n    else{\r\n      set_loop_track(true)\r\n      trackLoopRef.current = true\r\n    }\r\n  }\r\n\r\n  function startTrackSegmentLoop(e, index, action, duration) {\r\n    trackLoopTimer.current = setTimeout(() => {\r\n      if(trackLoopRef.current == true){\r\n        handleTrackClick(e, index, action);\r\n      }\r\n      else{\r\n        clearTimeout(trackLoopTimer.current)\r\n      }\r\n      \r\n    }, duration)       \r\n       \r\n  }\r\n\r\n  function updateCurrentUserState(delay=0, index=-1){   \r\n    // return; \r\n    var tries = 0;\r\n    function retryFetchUntilUpdate(){      \r\n      if(delay > 0 && tries == 0){\r\n        setTimeout(() => {\r\n          spotifyApi.getMyCurrentPlaybackState().then(res => {            \r\n            console.log(`pipeline data: `);\r\n            console.log(res);\r\n            if(res.body){\r\n              // if two or more spotify requests are made too close to each other\r\n              if(res.body.item){                \r\n                set_data(res);\r\n                if(index != -1) set_active_row(index); \r\n                console.log(\"main1\");              \r\n                dataUpdateTimer.current = setTimeout(updateCurrentUserState, 4000);\r\n              }\r\n              else{\r\n                if(tries < 5){\r\n                  console.log(\"retry1\");\r\n                  dataUpdateRetryTimer.current = setTimeout(retryFetchUntilUpdate, 250);\r\n                }\r\n                else{\r\n                  dataUpdateTimer.current = setTimeout(updateCurrentUserState, 10000);\r\n                }\r\n                \r\n              }\r\n            }\r\n            else{\r\n              dataUpdateTimer.current = setTimeout(updateCurrentUserState, 10000);\r\n            }\r\n\r\n            tries++;\r\n               \r\n          }, error => console.log(error))\r\n        }, delay)\r\n      }\r\n      else{\r\n        spotifyApi.getMyCurrentPlaybackState().then(res => {          \r\n          console.log(`pipeline data: `);\r\n          console.log(res);\r\n          if(res.body){\r\n            // if two or more spotify requests are made too close to each other\r\n            if(res.body.item){\r\n              set_data(res);              \r\n              if(index != -1) set_active_row(index);  \r\n              console.log(\"main2\");            \r\n              dataUpdateTimer.current = setTimeout(updateCurrentUserState, 10000);\r\n            }\r\n            else{\r\n              if(tries < 5){\r\n                console.log(\"retry2\");\r\n                dataUpdateRetryTimer.current = setTimeout(retryFetchUntilUpdate, 250);\r\n              }\r\n              else{\r\n                dataUpdateTimer.current = setTimeout(updateCurrentUserState, 10000);\r\n              }\r\n              \r\n            }\r\n          }\r\n          else{\r\n            dataUpdateTimer.current = setTimeout(updateCurrentUserState, 10000);\r\n          }\r\n             \r\n        }, error => console.log(error))\r\n      }      \r\n    }\r\n    retryFetchUntilUpdate();     \r\n  }\r\n  \r\n  function handleTrackClick(index, action, e=null){\r\n    indexOfSelectedTrack.current = index;\r\n    // var elementClassList = document.getElementById(`index-${index}`).classList;\r\n    console.log(\"track clicked\");\r\n\r\n    \r\n    if(action === \"play\"){\r\n      // console.log(library[index].trackInfo.album.uri)\r\n      // console.log(library[index].trackInfo.track_number)\r\n\r\n    //   spotifyApi.getMyCurrentPlaybackState().then(datat => {\r\n    //     console.log(\"track click data: \");\r\n    //     console.log(datat);\r\n    //     console.log(data);\r\n    //     if(datat && datat.body.item != null) set_data(datat);\r\n        \r\n    //     spotifyApi.play({\r\n    //       context_uri: library[index].trackInfo.album.uri,\r\n    //       offset: {\r\n    //         position: library[index].trackInfo.track_number - 1\r\n    //       },\r\n    //       position_ms: library[index].start\r\n    //     }).then(res => res, error => alert(\"No active device found\"));\r\n    //   }\r\n    // )\r\n    // updateCurrentUserState()\r\n\r\n      spotifyApi.play({\r\n        context_uri: library[index].trackInfo.album.uri,\r\n        offset: {\r\n          position: library[index].trackInfo.track_number - 1\r\n        },\r\n        position_ms: library[index].start\r\n      }).then(() => {      \r\n        timeDuration.current = library[index].trackInfo.duration_ms;\r\n        previousValues.current = [library[index].start, library[index].finish];  \r\n\r\n        clearTimeout(trackLoopTimer.current);        \r\n        startTrackSegmentLoop(e, index, action, library[index].finish - library[index].start);\r\n\r\n        clearDataTimers();        \r\n        updateCurrentUserState(500, index);              \r\n      },        \r\n      error => alert(\"No active device found\"))\r\n      }\r\n    else if(action === \"pause\"){\r\n      set_active_row(-1);  \r\n      handleTogglePlayback();\r\n      clearDataTimers();\r\n      updateCurrentUserState(500);\r\n    }\r\n    \r\n  }  \r\n\r\n  function handleAddingTag(e){\r\n    if(selectedTag == \"DEFAULT\") return\r\n    var curr_array = tagsTray.slice();\r\n    const found = curr_array.find(element => element === selectedTag);\r\n    if(found == undefined){\r\n      curr_array.push(selectedTag);\r\n      // console.log(curr_array);\r\n      // console.log(\"tagList= \" + tagList)\r\n      set_tags_tray(curr_array);   \r\n    }\r\n    else{\r\n      alert(\"tag already exists\");\r\n    }\r\n    e.preventDefault();    \r\n     \r\n  }\r\n  \r\n  function handleAddingCustomTag(e){\r\n    if(customTag == \"\") return\r\n    var curr_array = tagsTray.slice();\r\n    const found = curr_array.find(element => element === customTag);\r\n    if(found == undefined){\r\n      curr_array.push(customTag);\r\n      console.log(curr_array);\r\n      set_tags_tray(curr_array);   \r\n    }\r\n    else{\r\n      alert(\"tag already exists\");\r\n    }\r\n  } \r\n\r\n  function handleNotes(e){\r\n    set_notes(e.target.value);    \r\n  }\r\n\r\n  function handleTags(e){\r\n    set_tag(e.target.value);\r\n    console.log(e.target.value);    \r\n  }\r\n\r\n  function handleCustomTags(e){\r\n    set_custom_tag(e.target.value);\r\n    console.log(e.target.value);\r\n  }\r\n\r\n  function updateHandles(values){    \r\n    let result;\r\n    // console.log(values, sliderHandles);  \r\n    // find which handle was moved\r\n    if(values[0] === previousValues.current[0]){\r\n      prevHandle.current = 2;\r\n    }\r\n    else if(values[1] === previousValues.current[1]){\r\n      prevHandle.current = 1;\r\n    }\r\n\r\n    // update state of moved handle\r\n    if(prevHandle.current === 1){\r\n      result = [previousValues.current[0], previousValues.current[1]];\r\n      if(result !== undefined){\r\n        result[0] = values[0];\r\n        previousValues.current = result;\r\n      }      \r\n       // move place in song via api\r\n       spotifyApi.seek(values[0]).then(error => {},\r\n        e => {console.log(\"No active device found\");});\r\n      // return dashboard;   \r\n    }\r\n    else if(prevHandle.current === 2){\r\n      // update previous values\r\n      result = [previousValues.current[0], previousValues.current[1]];\r\n      if(result !== undefined){\r\n        result[1] = values[1];\r\n        previousValues.current = result;\r\n      }     \r\n      // move place in song via api\r\n      spotifyApi.seek(values[1]).then(() => {},\r\n       e => {console.log(\"No active device found\");});   \r\n    } \r\n    // set_prev_handle(localPrevHandle);   \r\n    console.log(\"seeked\");\r\n  }  \r\n\r\n  function handleSliderChange(values){\r\n    if(!sliderTimeOutFlag){\r\n      sliderTimeOutFlag = true;      \r\n      updateHandles(values);\r\n      timeout = setTimeout(() => {\r\n        sliderTimeOutFlag = false}, 1000);\r\n      console.log(\"slider updated\");\r\n    }\r\n    previousValues.current = values;    \r\n  }\r\n\r\n  function handleSave(e){\r\n    let values = previousValues.current;\r\n    if(data !== undefined && data.body !== null && user.current && previousValues.current && trackUri){\r\n      axios.post('/api/items', {\r\n        user: user.current,\r\n        start: previousValues.current[0],\r\n        finish: previousValues.current[1],\r\n        trackUri: trackUri,        \r\n        notes: notes,\r\n        tags: tagsTray\r\n        }).then(res => {\r\n          console.log(res);\r\n          spotifyApi.getMe().then(data => {\r\n            user.current = data.body.display_name;\r\n            fetchLibrary(data, [\"50b3753a7ed653a553c26c8585fc5818(preview)\", data.body.display_name])\r\n            // fetchLibrary(data, data.body.display_name)      \r\n          })\r\n          clearDashboard();          \r\n        })\r\n        .catch(() => {            \r\n            alert(\"error with saving (server error)\");\r\n        })\r\n    }\r\n    else{\r\n      alert(\"error with saving (client error)\");\r\n    }\r\n  }\r\n\r\n  function handleEdit(e){\r\n    // console.log(library)\r\n    if(selectedRow == -1) alert(\"Select a segment to edit\")\r\n    console.log(!notes, tagsTray.length == 0)\r\n    var request = {\r\n        _id: library[selectedRow]._id,\r\n        user: user.current,\r\n        start: previousValues.current[0],\r\n        finish: previousValues.current[1],\r\n        trackUri: library[selectedRow].trackUri,\r\n        notes: notes,\r\n        tags: tagsTray\r\n    }\r\n    if(library){\r\n      console.log(request)\r\n      axios.post('/api/items/update', request).then(res => {\r\n          console.log(res);\r\n          spotifyApi.getMe().then(data => {\r\n            user.current = data.body.display_name;\r\n            fetchLibrary(data, [\"50b3753a7ed653a553c26c8585fc5818(preview)\", data.body.display_name])\r\n            // fetchLibrary(data, data.body.display_name)      \r\n          })\r\n          clearDashboard();          \r\n        })\r\n        .catch((e) => {   \r\n            console.log(e)         \r\n            alert(\"error with saving (server error)\");\r\n        })\r\n    }\r\n    else{\r\n      alert(\"error with saving (client error)\");\r\n    }\r\n  }\r\n\r\n  function handleDelete(e){\r\n    if(selectedRow == -1) alert(\"Select a segment to delete\")\r\n    if(library){      \r\n      axios.delete(`/api/items/${library[selectedRow]._id}`).then(res => {\r\n          console.log(res);\r\n          spotifyApi.getMe().then(data => {\r\n            user.current = data.body.display_name;\r\n            fetchLibrary(data, [\"50b3753a7ed653a553c26c8585fc5818(preview)\", data.body.display_name])\r\n            // fetchLibrary(data, data.body.display_name)      \r\n          })\r\n          clearDashboard();          \r\n        })\r\n        .catch((e) => {   \r\n            console.log(e)         \r\n            alert(\"error with saving (server error)\");\r\n        })\r\n    }\r\n    else{\r\n      alert(\"error with saving (client error)\");\r\n    }\r\n  }\r\n\r\n  function handleTagDelete(e, value){\r\n    // console.log(\"before \" + tagsTray);\r\n    if(value === \"Sample tag\") return\r\n    var index = tagsTray.indexOf(value)\r\n      if(index != -1){        \r\n        var currArray = tagsTray.slice(); \r\n        // console.log(currArray, index);\r\n        currArray.splice(index, 1);\r\n        // console.log(currArray, index);\r\n        set_tags_tray(currArray);\r\n        // console.log(\"after \" + tagsTray);\r\n      }\r\n    \r\n  }\r\n\r\n  function clearDashboard(){\r\n    set_notes(\"\");\r\n    set_tags_tray([]);\r\n    set_tag(\"DEFAULT\");\r\n    set_custom_tag(\"\");\r\n  }\r\n    \r\n  \r\n  // // OLD APPROACH: STATE RE-RENDERS STOPPED ONCHANGE FROM FIRING\r\n  // function handleAfterChange(values){\r\n  //   // clearTimeout(timeout);\r\n  // }\r\n\r\n  // function handleBeforeChange(values){\r\n  //   // // clear timer if one exists\r\n  //   // console.log(timeout ? 1 : 0);\r\n  //   // timeout && clearTimeout(timeout);\r\n  //   // updateHandles(values);\r\n  //   // timeout = setTimeout(() => {\r\n  //   //   updateHandles(values);\r\n  //   // }, 1000);  \r\n  // }\r\n\r\n  // // function handleSeeker(values){  \r\n  // //   timeout && clearTimeout(timeout);\r\n  // //   timeout = setTimeout(() => {\r\n  // //     let localPrevHandle = 0;\r\n  // //     let result;\r\n  // //     console.log(values, sliderHandles);  \r\n  // //     // find which handle was moved\r\n  // //     if(values[0] === sliderHandles[0]){\r\n  // //       localPrevHandle = 2;\r\n  // //     }\r\n  // //     else if(values[1] === sliderHandles[1]){\r\n  // //       localPrevHandle = 1;\r\n  // //     }\r\n  \r\n  // //     // update state of moved handle\r\n  // //     if(localPrevHandle === 1){\r\n  // //       result = [sliderHandles[0], sliderHandles[1]];\r\n  // //       if(result !== undefined){\r\n  // //         result[0] = values[0];\r\n  // //         set_slider_handles(result);\r\n  // //       }      \r\n  // //       // return dashboard;   \r\n  // //     }\r\n  // //     else if(localPrevHandle === 2){\r\n  // //       result = [sliderHandles[0], sliderHandles[1]];\r\n  // //       if(result !== undefined){\r\n  // //         result[1] = values[1];\r\n  // //         set_slider_handles(result);\r\n  // //       }      \r\n  // //       // return dashboard;   \r\n  // //     } \r\n  // //     // set_prev_handle(localPrevHandle);   \r\n  // //   }, 1000);       \r\n  // // }\r\n  \r\n  function handleTogglePlayback(e=null){\r\n    spotifyApi.getMyCurrentPlaybackState().then(data => {\r\n      console.log(data);\r\n      if(data.body !== null){\r\n        var tempData = data;\r\n        if(data.body.is_playing){\r\n          spotifyApi.pause().then((res) => {\r\n            clearTimeout(trackLoopTimer.current);\r\n            console.log(\"Paused\");\r\n            tempData.body.is_playing = !tempData.body.is_playing;\r\n            set_data(tempData);  \r\n          }, (err) => { \r\n            console.log(err.statusCode);       \r\n            alert(\"Please try again. Make sure you have a premium account\");\r\n          });      \r\n          }\r\n        else if(!data.body.is_playing) {\r\n          spotifyApi.play().then(() => {\r\n            console.log(\"Resumed\");\r\n            tempData.body.is_playing = !tempData.body.is_playing;\r\n            set_data(tempData);\r\n          }, (err) => {\r\n            console.log(err.statusCode); \r\n            alert(\"Please try again. Make sure you have a premium account\");\r\n          });\r\n        }  \r\n      }      \r\n      else {\r\n        alert(\"No active device found, play something on a device\")\r\n      }               \r\n    })    \r\n  }\r\n  \r\n\r\n  // console.log(data);\r\n  return (\r\n    dashboard\r\n  )\r\n}\r\nexport default Dashboard;\r\n","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function useAuth(code) {    \r\n    // create states for our variables\r\n    const [ access_token, set_access_token ] = useState();\r\n    const [ refresh_token, set_refresh_token ] = useState();\r\n    const [ expires_in, set_expires_in ] = useState();\r\n\r\n    // update state variables everytime url code from spotify changes\r\n    useEffect(() => {\r\n        // make POST request to server for spotify api data\r\n        axios.post('/api/login', {\r\n            code\r\n        }).then(res => {\r\n            // store response data in state variables\r\n            set_access_token(res.data.access_token);\r\n            set_refresh_token(res.data.refresh_token);\r\n            set_expires_in(res.data.expires_in);\r\n            // clear code from url\r\n            window.history.pushState({}, null, '/');\r\n        })\r\n        .catch(() => {\r\n            // if error, redirect to login page\r\n            window.location = '/';\r\n        })\r\n    }, [code])\r\n\r\n    // if refreshtoken / expiresin updated (ex. user logged in again?)\r\n    // create interval which continously sends api calls to server to update accesstoken and expiresin 60 seconds before token expires\r\n    useEffect(() => {\r\n        // do nothing if no refresh token / expiresin\r\n        if(!refresh_token || !expires_in) return\r\n        // interval to update accesstoken / expiresin every expiresin - 60 seconds\r\n        const refreshInterval = setInterval(() => {\r\n            axios.post('/api/refresh', {\r\n                refresh_token\r\n            }).then(res => {\r\n                // store response data in state variables\r\n                set_access_token(res.data.access_token);            \r\n                set_expires_in(res.data.expires_in);\r\n            })\r\n        }, (expires_in - 60) * 1000);\r\n\r\n        return () => clearInterval(refreshInterval);\r\n        \r\n    }, [refresh_token, expires_in]);\r\n\r\n    return access_token;\r\n}\r\n\r\n\r\n","import useAuthClientCredientials from \"./useAuthClientCredientials\";\r\nimport visualizer from \"./Visualizer\";\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport '../styles/dashboard.css'\r\nimport Player from './Player';\r\nimport SpotifyWebApi from \"spotify-web-api-node\";\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport InputPanel from \"./InputPanel\";\r\nimport Library from \"./Library\";\r\nimport Swal from 'sweetalert2';\r\n\r\nconst spotifyApi = new SpotifyWebApi({\r\n    clientId: \"a51237d57ccc4dbf9f1162c378934b9c\"\r\n  })\r\n\r\nfunction Preview() {\r\n  const defaultTimeDuration = 10000;\r\n  const accessToken = useAuthClientCredientials();\r\n  var timeout;\r\n  var sliderTimeOutFlag = false;\r\n  var previousValues = useRef([Math.round(defaultTimeDuration * 1/5), Math.round(defaultTimeDuration * 2/5)]);\r\n  var prevHandle = useRef(0);\r\n  var timeDuration = useRef();\r\n  var dataUpdateTimer = useRef();\r\n  var dataUpdateRetryTimer = useRef();\r\n  var trackLoopTimer = useRef();\r\n  var testCount = useRef(0);\r\n  var user = useRef();\r\n\r\n  // state variables for InputPanel\r\n  var [customTag, set_custom_tag] = useState(\"\");\r\n  var [selectedTag, set_tag] = useState(\"DEFAULT\");\r\n  var [notes, set_notes] = useState();\r\n  var [tagsTray, set_tags_tray] = useState([]);\r\n  var [tagList, set_tagList] = useState([\"epic\", \"ethereal\", \"sad\", \"ambient\", \"vocals\", \"drum pattern\", \"guitar solo\", \"sound design\", \"bass\"]);\r\n  var [library, set_library] = useState([]);\r\n  var [trackDetails, set_track_details] = useState([]);\r\n  var [libraryState, set_library_state] = useState({hoveredRow: -1});\r\n  var [activeRow, set_active_row] = useState(-1);\r\n  var [selectedRow, set_selected_row] = useState(-1);\r\n  \r\n  const [data, set_data] = useState({body:{is_playing:false, item:{uri:\"spotify:track:5qjJbjKzqYBhUL3Fk34yPl\"}}});\r\n  // const [sliderHandles, set_slider_handles] = useState([Math.round(defaultTimeDuration * 1/5), Math.round(defaultTimeDuration * 2/5)]);\r\n  const [trackUri, set_track_uri] = useState();\r\n  // const [prevHandle, set_prev_handle] = useState(0); \r\n  const [loopTrack, set_loop_track] = useState(true);\r\n  var trackLoopRef = useRef(loopTrack);\r\n\r\n  useEffect(() => {\r\n    visualizer()\r\n    Swal.fire('Any fool can use a computer') \r\n  }, [])\r\n\r\n\r\n  let dashboard =\r\n  <div>\r\n    <canvas id=\"dashboardVisualizer\" class=\"webgl\"></canvas>  \r\n    <Container id='dashboard'>\r\n          <div id='top' className='py-2'>\r\n          {/* {libraryState.hoveredRow} */}\r\n          <a href=\"/\" class=\"dashboardBackButton btn btn-outline-secondary btn-info\" role=\"button\">Homepage</a>\r\n          </div>            \r\n          <div id='library' className='my-2'><Library \r\n          library={library}\r\n          libraryState={libraryState}\r\n          handleTrackClick={handleTrackClick}\r\n          handleTagDelete={handleTagDelete}\r\n          handleOnMouseEnter={handleOnMouseEnter}\r\n          handleOnMouseLeave={handleOnMouseLeave}\r\n          handleMouseOver={handleMouseOver}\r\n          handleIndexType={handleIndexType}\r\n          currentTrack={data ? data.body.item.uri : null}\r\n          isPlaying={data ? data.body.is_playing : null}\r\n          activeRow={activeRow}\r\n          selectedRow={selectedRow}\r\n          handleSelectRow={handleSelectRow} /></div>\r\n          <div id='inputPanel' className='my-2'><InputPanel \r\n          handleTags={handleTags}\r\n          handleNotes={handleNotes}\r\n          handleCustomTags={handleCustomTags}          \r\n          handleAddingCustomTag={handleAddingCustomTag}\r\n          handleAddingTag={handleAddingTag}\r\n          notes={notes}\r\n          customTag={customTag}\r\n          selectedTag={selectedTag}\r\n          tagList={tagList}\r\n          tagsTray={tagsTray}\r\n          handleTagDelete={handleTagDelete} /></div>\r\n          <div id='player'><Player trackDuration={timeDuration.current !== undefined ? timeDuration.current : defaultTimeDuration} \r\n          handleTogglePlayback={handleTogglePlayback}     \r\n          isPlaying={data ? data.body.is_playing : null}               \r\n          handleSliderChange={handleSliderChange}\r\n          handleSave={handleSave}          \r\n          sliderHandles={previousValues.current}\r\n          handleLoopTrack={handleLoopTrack}\r\n          loopTrack={loopTrack} \r\n          handleEdit={handleEdit}\r\n          handleDelete={handleDelete} /></div>            \r\n    </Container>\r\n  </div> \r\n\r\n  function fetchLibrary(username){\r\n    console.log(\"hello\")\r\n    console.log(username)\r\n    axios.get('/api/items', {\r\n      params:{\r\n        user: username\r\n        }\r\n      }).then(res => {\r\n        console.log('library: \\n');\r\n        console.log(res.data);\r\n        \r\n        // make array of track id's\r\n        var arrayOfTrackIds = res.data.map(record => {\r\n          return record.trackUri.replace(\"spotify:track:\", \"\");\r\n        });\r\n        // console.log(arrayOfTrackIds);\r\n\r\n        // query all track id's for info\r\n        spotifyApi.getTracks(arrayOfTrackIds).then(tracksRes => {\r\n          // to avoid an index out of bounds error\r\n          if(res.data.length != tracksRes.body.tracks.length) return alert('error with fetching library, please try again');\r\n          // create new property containing track info\r\n          res.data.map((record, index) => {\r\n            record.trackInfo = tracksRes.body.tracks[index];\r\n                 \r\n          })\r\n          // store result\r\n          // var tempArray = library\r\n          // tempArray.push()\r\n          set_library(res.data)\r\n          // console.log(res.data);\r\n          // // for debugging\r\n          // spotifyApi.getMyCurrentPlaybackState().then(data => {\r\n          //     console.log(data);\r\n          //     if(data.body !== null){\r\n          //       set_data(data);        \r\n          //     }              \r\n          //   })\r\n          // clearDataTimers();\r\n          // updateCurrentUserState();\r\n          })\r\n          \r\n          .catch(() => {            \r\n            alert(\"error with retrieving library\");\r\n            // // for debugging\r\n            // spotifyApi.getMyCurrentPlaybackState().then(data => {\r\n            //   console.log(data);\r\n            //   if(data.body !== null){\r\n            //     set_data(data);        \r\n            //   }              \r\n            // }) \r\n          })\r\n                   \r\n      })\r\n      \r\n      .catch((err) => {            \r\n          alert(\"error with retrieving library\");\r\n          // // for debugging\r\n          // spotifyApi.getMyCurrentPlaybackState().then(data => {\r\n          //   console.log(data);\r\n          //   if(data.body !== null){\r\n          //     set_data(data);        \r\n          //   }              \r\n          // }) \r\n      })\r\n  }\r\n\r\n  // update access token\r\n  useEffect(() => {\r\n    console.log(accessToken)\r\n    if (!accessToken) return\r\n    spotifyApi.setAccessToken(accessToken)\r\n    // to give enough time for spotifyApi to setAccessToken\r\n    // *this is a bad solution, couldn't figure out a way to make a callback function, and this is just the preview afterall, most of the code here\r\n    // is dashboard code with low quality adjustments to make it work without the user signing in*\r\n    setTimeout(()=> fetchLibrary(\"50b3753a7ed653a553c26c8585fc5818(preview)\"), 1000)\r\n    \r\n  }, [accessToken])\r\n\r\n  \r\n\r\n  // // update user data\r\n  // useEffect(() => {\r\n  //   if (!accessToken) return\r\n  //   if (!spotifyApi) return\r\n  //   spotifyApi.getMe().then(data => {\r\n  //     user.current = data.body.display_name;\r\n      \r\n  //     // fetchLibrary(data, data.body.display_name)      \r\n  //   })\r\n  //   // const fetchInterval = setInterval(() => {\r\n  //   //   spotifyApi.getMyCurrentPlaybackState().then(data => {\r\n  //   //     console.log(data);\r\n  //   //     set_data(data);\r\n  //   //   })\r\n  //   // }, 10000);\r\n\r\n    \r\n\r\n  //   return () => clearDataTimers();\r\n  // }, [accessToken])\r\n\r\n  // useEffect(() => {    \r\n  //   console.log(\"data updated!\");\r\n  //   if(data !== undefined && data.body != null) {\r\n\r\n      \r\n\r\n\r\n  //     // if no previous tracks, update handles to be in spots 1/5 and 2/5\r\n  //     if(trackUri === undefined){\r\n  //       previousValues.current = [Math.round(data.body.item.duration_ms * 1/5), Math.round(data.body.item.duration_ms * 2/5)];\r\n  //       timeDuration.current = data.body.item.duration_ms;\r\n  //       set_track_uri(data.body.item.uri);\r\n  //     }\r\n      \r\n  //     // if there was a previous track, update handles to same relative position\r\n  //     // condition checks that there are values in prevValues and timeDuration\r\n  //     else if(trackUri !== data.body.item.uri && previousValues.current && timeDuration){\r\n  //       previousValues.current = [Math.round(data.body.item.duration_ms * (previousValues.current[0] / timeDuration.current)),\r\n  //        Math.round(data.body.item.duration_ms * (previousValues.current[1] / timeDuration.current))];\r\n  //       timeDuration.current = data.body.item.duration_ms;\r\n  //       set_track_uri(data.body.item.uri); \r\n  //     } \r\n  //   }\r\n\r\n  // }, [data]) \r\n  \r\n  // function updateLibraryActiveRows(data){\r\n  //   // guard against accessing properties on null\r\n  //   if(!data) return;\r\n    \r\n  //   // determine state of 'active' rows\r\n  //   var track = data.body.item.uri;\r\n  //   var isPlaying = data.body.is_playing;\r\n  //   var trackIndex = indexOfPlayingTrackInLibrary(track);\r\n  //   var isPlayingTrackInLibrary = trackIndex != -1 && isPlaying ? 1 : 0;\r\n  //   var isTrackRowHovered = isTrackRowHoveredFunct(trackIndex);\r\n\r\n  //   if(!isPlayingTrackInLibrary && isTrackRowHovered){\r\n  //     set_library_state({...libraryState, activeRow:{index:trackIndex, type:\"play\"}})\r\n  //   }\r\n  //   else if(isPlayingTrackInLibrary && isTrackRowHovered){\r\n  //     set_library_state({...libraryState, activeRow:{index:trackIndex, type:\"pause\"}})\r\n  //   }\r\n  //   else if(isPlayingTrackInLibrary && !isTrackRowHovered){\r\n  //     set_library_state({...libraryState, activeRow:{index:trackIndex, type:\"equalizer\"}})\r\n  //   }\r\n  //   else if(!isPlayingTrackInLibrary && !isTrackRowHovered){\r\n  //     set_library_state({...libraryState, activeRow:{index:-1, type:\"number\"}})\r\n  //   }\r\n  // }\r\n\r\n  useEffect(() => { \r\n    console.log(\"library:\")   \r\n    console.log(library)    \r\n  }, [library]) \r\n  \r\n  // useEffect(() => {   \r\n  //   var index = libraryState.hoveredRow; \r\n  //   if(index == -1) return    \r\n  //   var row = document.getElementById(`row-${index}`);  \r\n  //   row.style.background = \"#2a2a2a\";\r\n  // }, [libraryState.hoveredRow]) \r\n  \r\n\r\n  function handleIndexType(track, index){    \r\n    // var isPlaying = 0;\r\n    // var trackIndex = -1;\r\n    // if(data){\r\n    //   isPlaying = data.body.is_playing;\r\n\r\n    //   trackIndex = indexOfPlayingTrackInLibrary(data.body.item.uri);\r\n    // } \r\n    // var isPlayingTrackInLibrary = trackIndex !== -1 && isPlaying ? 1 : 0;\r\n    // var isTrackRowHovered = isTrackRowHoveredFunct(trackIndex);\r\n    // if(!isPlayingTrackInLibrary && isTrackRowHovered){\r\n    //   return \"play\";\r\n    // }\r\n    // else if(isPlayingTrackInLibrary && isTrackRowHovered){\r\n    //   return \"pause\";\r\n    // }\r\n    // else if(isPlayingTrackInLibrary && !isTrackRowHovered){\r\n    //   return \"equalizer\";\r\n    // }\r\n    // else if(!isPlayingTrackInLibrary && !isTrackRowHovered){\r\n    //   return \"number\";\r\n    // }\r\n  }\r\n\r\n  function indexOfPlayingTrackInLibrary(track){    \r\n    var libraryTrackUris = library.map((record, index) => {return record.trackUri});\r\n    var index = libraryTrackUris.indexOf(track);\r\n    \r\n    // console.log(libraryTrackUris, index);\r\n    return index;  \r\n  }\r\n\r\n  function isTrackRowHoveredFunct(index){\r\n    if(index == -1) return 0;\r\n    return libraryState.hoveredRow == index ? 1 : 0;\r\n  }\r\n\r\n  function handleOnMouseEnter(e, index){\r\n    console.log('entered');\r\n    set_library_state({...libraryState, hoveredRow: index});\r\n    \r\n  }\r\n\r\n  function handleOnMouseLeave(e, index){\r\n    console.log('left');\r\n    set_library_state({...libraryState, hoveredRow: -1});\r\n    \r\n  }\r\n\r\n  function handleMouseOver(e, index){\r\n    set_library_state({...libraryState, hoveredRow: index});\r\n  }\r\n\r\n  function handleSelectRow(e, index){\r\n    if(selectedRow == -1 || index != selectedRow){\r\n      set_selected_row(index);\r\n    }\r\n    else {\r\n      set_selected_row(-1);\r\n    }\r\n    \r\n  }\r\n\r\n  // function retryUpdateCurrentUserState(){\r\n\r\n  // }\r\n\r\n  function clearDataTimers(){\r\n    clearTimeout(dataUpdateTimer.current);\r\n    clearTimeout(dataUpdateRetryTimer.current);\r\n  }\r\n\r\n  // toggle the loopTrack value\r\n  function handleLoopTrack(){\r\n    if(loopTrack == true){\r\n      set_loop_track(false)\r\n      trackLoopRef.current = false\r\n    }\r\n    else{\r\n      set_loop_track(true)\r\n      trackLoopRef.current = true\r\n    }\r\n  }\r\n\r\n  // function startTrackSegmentLoop(e, index, action, duration) {\r\n  //   trackLoopTimer.current = setTimeout(() => {\r\n  //     if(trackLoopRef.current == true){\r\n  //       handleTrackClick(e, index, action);\r\n  //     }\r\n  //     else{\r\n  //       clearTimeout(trackLoopTimer.current)\r\n  //     }\r\n      \r\n  //   }, duration)       \r\n       \r\n  // }\r\n\r\n  function updateCurrentUserState(delay=0, index=-1){   \r\n    return; \r\n    // var tries = 0;\r\n    // function retryFetchUntilUpdate(){      \r\n    //   if(delay > 0 && tries == 0){\r\n    //     setTimeout(() => {\r\n    //       spotifyApi.getMyCurrentPlaybackState().then(res => {            \r\n    //         console.log(`pipeline data: `);\r\n    //         console.log(res);\r\n    //         if(res.body){\r\n    //           // if two or more spotify requests are made too close to each other\r\n    //           if(res.body.item){                \r\n    //             set_data(res);\r\n    //             if(index != -1) set_active_row(index); \r\n    //             console.log(\"main1\");              \r\n    //             dataUpdateTimer.current = setTimeout(updateCurrentUserState, 4000);\r\n    //           }\r\n    //           else{\r\n    //             if(tries < 5){\r\n    //               console.log(\"retry1\");\r\n    //               dataUpdateRetryTimer.current = setTimeout(retryFetchUntilUpdate, 250);\r\n    //             }\r\n    //             else{\r\n    //               dataUpdateTimer.current = setTimeout(updateCurrentUserState, 10000);\r\n    //             }\r\n                \r\n    //           }\r\n    //         }\r\n    //         else{\r\n    //           dataUpdateTimer.current = setTimeout(updateCurrentUserState, 10000);\r\n    //         }\r\n\r\n    //         tries++;\r\n               \r\n    //       }, error => console.log(error))\r\n    //     }, delay)\r\n    //   }\r\n    //   else{\r\n    //     spotifyApi.getMyCurrentPlaybackState().then(res => {          \r\n    //       console.log(`pipeline data: `);\r\n    //       console.log(res);\r\n    //       if(res.body){\r\n    //         // if two or more spotify requests are made too close to each other\r\n    //         if(res.body.item){\r\n    //           set_data(res);              \r\n    //           if(index != -1) set_active_row(index);  \r\n    //           console.log(\"main2\");            \r\n    //           dataUpdateTimer.current = setTimeout(updateCurrentUserState, 10000);\r\n    //         }\r\n    //         else{\r\n    //           if(tries < 5){\r\n    //             console.log(\"retry2\");\r\n    //             dataUpdateRetryTimer.current = setTimeout(retryFetchUntilUpdate, 250);\r\n    //           }\r\n    //           else{\r\n    //             dataUpdateTimer.current = setTimeout(updateCurrentUserState, 10000);\r\n    //           }\r\n              \r\n    //         }\r\n    //       }\r\n    //       else{\r\n    //         dataUpdateTimer.current = setTimeout(updateCurrentUserState, 10000);\r\n    //       }\r\n             \r\n    //     }, error => console.log(error))\r\n    //   }      \r\n    // }\r\n    // retryFetchUntilUpdate();     \r\n  }\r\n  \r\n  function handleTrackClick(index, action, e){\r\n    // var elementClassList = document.getElementById(`index-${index}`).classList;\r\n    console.log(\"track clicked\");\r\n\r\n    if(action === \"play\"){\r\n      var temp = {...data}\r\n      temp.body.is_playing = true\r\n      temp.body.item.uri = library[index].trackInfo.uri\r\n      timeDuration.current = library[index].trackInfo.duration_ms;\r\n      previousValues.current = [library[index].start, library[index].finish];\r\n      if(index != -1) set_active_row(index);\r\n      // needed for timeDuration and previousValues to update before state update\r\n      // *this is a bad solution, should have used useState for the above two variables from the start instead*\r\n      setTimeout(() => set_data(temp), 1000)  \r\n      \r\n    }\r\n    else if(action === \"pause\"){\r\n      set_active_row(-1)\r\n      var temp = {...data}\r\n      temp.body.is_playing = false   \r\n      if(index != -1) set_active_row(index);   \r\n      setTimeout(() => set_data(temp), 1000)  \r\n    }\r\n    \r\n    // if(action === \"play\"){\r\n    //   // console.log(library[index].trackInfo.album.uri)\r\n    //   // console.log(library[index].trackInfo.track_number)\r\n\r\n    // //   spotifyApi.getMyCurrentPlaybackState().then(datat => {\r\n    // //     console.log(\"track click data: \");\r\n    // //     console.log(datat);\r\n    // //     console.log(data);\r\n    // //     if(datat && datat.body.item != null) set_data(datat);\r\n        \r\n    // //     spotifyApi.play({\r\n    // //       context_uri: library[index].trackInfo.album.uri,\r\n    // //       offset: {\r\n    // //         position: library[index].trackInfo.track_number - 1\r\n    // //       },\r\n    // //       position_ms: library[index].start\r\n    // //     }).then(res => res, error => alert(\"No active device found\"));\r\n    // //   }\r\n    // // )\r\n    // // updateCurrentUserState()\r\n\r\n    //   spotifyApi.play({\r\n    //     context_uri: library[index].trackInfo.album.uri,\r\n    //     offset: {\r\n    //       position: library[index].trackInfo.track_number - 1\r\n    //     },\r\n    //     position_ms: library[index].start\r\n    //   }).then(() => {      \r\n        // timeDuration.current = library[index].trackInfo.duration_ms;\r\n        // previousValues.current = [library[index].start, library[index].finish];  \r\n\r\n    //     clearTimeout(trackLoopTimer.current);        \r\n    //     startTrackSegmentLoop(e, index, action, library[index].finish - library[index].start);\r\n\r\n    //     clearDataTimers();        \r\n    //     updateCurrentUserState(500, index);              \r\n    //   },        \r\n    //   error => alert(\"No active device found\"))\r\n    //   }\r\n    // else if(action === \"pause\"){\r\n    //   set_active_row(-1);  \r\n    //   handleTogglePlayback(e);\r\n    //   clearDataTimers();\r\n    //   updateCurrentUserState(500);\r\n    // }\r\n    \r\n  }  \r\n\r\n  function handleAddingTag(e){\r\n    if(selectedTag == \"DEFAULT\") return\r\n    var curr_array = tagsTray.slice();\r\n    const found = curr_array.find(element => element === selectedTag);\r\n    if(found == undefined){\r\n      curr_array.push(selectedTag);\r\n      // console.log(curr_array);\r\n      // console.log(\"tagList= \" + tagList)\r\n      set_tags_tray(curr_array);   \r\n    }\r\n    else{\r\n      alert(\"tag already exists\");\r\n    }\r\n    e.preventDefault();    \r\n     \r\n  }\r\n  \r\n  function handleAddingCustomTag(e){\r\n    if(customTag == \"\") return\r\n    var curr_array = tagsTray.slice();\r\n    const found = curr_array.find(element => element === customTag);\r\n    if(found == undefined){\r\n      curr_array.push(customTag);\r\n      console.log(curr_array);\r\n      set_tags_tray(curr_array);   \r\n    }\r\n    else{\r\n      alert(\"tag already exists\");\r\n    }\r\n  } \r\n\r\n  function handleNotes(e){\r\n    set_notes(e.target.value);    \r\n  }\r\n\r\n  function handleTags(e){\r\n    set_tag(e.target.value);\r\n    console.log(e.target.value);    \r\n  }\r\n\r\n  function handleCustomTags(e){\r\n    set_custom_tag(e.target.value);\r\n    console.log(e.target.value);\r\n  }\r\n\r\n  function updateHandles(values){    \r\n    let result;\r\n    // console.log(values, sliderHandles);  \r\n    // find which handle was moved\r\n    if(values[0] === previousValues.current[0]){\r\n      prevHandle.current = 2;\r\n    }\r\n    else if(values[1] === previousValues.current[1]){\r\n      prevHandle.current = 1;\r\n    }\r\n\r\n    // update state of moved handle\r\n    if(prevHandle.current === 1){\r\n      result = [previousValues.current[0], previousValues.current[1]];\r\n      if(result !== undefined){\r\n        result[0] = values[0];\r\n        previousValues.current = result;\r\n      }      \r\n      //  // move place in song via api\r\n      //  spotifyApi.seek(values[0]).then(error => {},\r\n      //   e => {console.log(\"No active device found\");});\r\n      // return dashboard;   \r\n    }\r\n    else if(prevHandle.current === 2){\r\n      // update previous values\r\n      result = [previousValues.current[0], previousValues.current[1]];\r\n      if(result !== undefined){\r\n        result[1] = values[1];\r\n        previousValues.current = result;\r\n      }     \r\n      // move place in song via api\r\n      // spotifyApi.seek(values[1]).then(() => {},\r\n      //  e => {console.log(\"No active device found\");});   \r\n    } \r\n    // set_prev_handle(localPrevHandle);   \r\n    console.log(\"seeked\");\r\n  }  \r\n\r\n  function handleSliderChange(values){\r\n    if(!sliderTimeOutFlag){\r\n      sliderTimeOutFlag = true;      \r\n      updateHandles(values);\r\n      timeout = setTimeout(() => {\r\n        sliderTimeOutFlag = false}, 1000);\r\n      console.log(\"slider updated\");\r\n    }\r\n    previousValues.current = values;    \r\n  }\r\n\r\n  function handleSave(e){\r\n    // let values = previousValues.current;\r\n    // if(data !== undefined && data.body !== null && user.current && previousValues.current && trackUri){\r\n    //   axios.post('/api/items', {\r\n    //     user: user.current,\r\n    //     start: previousValues.current[0],\r\n    //     finish: previousValues.current[1],\r\n    //     trackUri: trackUri,        \r\n    //     notes: notes,\r\n    //     tags: tagsTray\r\n    //     }).then(res => {\r\n    //       console.log(res);\r\n    //       clearDashboard();          \r\n    //     })\r\n    //     .catch(() => {            \r\n    //         alert(\"error with saving (server error)\");\r\n    //     })\r\n    // }\r\n    // else{\r\n    //   alert(\"error with saving (client error)\");\r\n    // }\r\n  }\r\n\r\n  function handleEdit(e){\r\n    return\r\n  }\r\n\r\n  function handleDelete(e){\r\n    return\r\n  }\r\n\r\n  function handleTagDelete(e, value){\r\n    // console.log(\"before \" + tagsTray);\r\n    if(value === \"Sample tag\") return\r\n    var index = tagsTray.indexOf(value)\r\n      if(index != -1){        \r\n        var currArray = tagsTray.slice(); \r\n        // console.log(currArray, index);\r\n        currArray.splice(index, 1);\r\n        // console.log(currArray, index);\r\n        set_tags_tray(currArray);\r\n        // console.log(\"after \" + tagsTray);\r\n      }\r\n    \r\n  }\r\n\r\n  function clearDashboard(){\r\n    set_notes(\"\");\r\n    set_tags_tray([]);\r\n    set_tag(\"DEFAULT\");\r\n    set_custom_tag(\"\");\r\n  }\r\n    \r\n  \r\n  // // OLD APPROACH: STATE RE-RENDERS STOPPED ONCHANGE FROM FIRING\r\n  // function handleAfterChange(values){\r\n  //   // clearTimeout(timeout);\r\n  // }\r\n\r\n  // function handleBeforeChange(values){\r\n  //   // // clear timer if one exists\r\n  //   // console.log(timeout ? 1 : 0);\r\n  //   // timeout && clearTimeout(timeout);\r\n  //   // updateHandles(values);\r\n  //   // timeout = setTimeout(() => {\r\n  //   //   updateHandles(values);\r\n  //   // }, 1000);  \r\n  // }\r\n\r\n  // // function handleSeeker(values){  \r\n  // //   timeout && clearTimeout(timeout);\r\n  // //   timeout = setTimeout(() => {\r\n  // //     let localPrevHandle = 0;\r\n  // //     let result;\r\n  // //     console.log(values, sliderHandles);  \r\n  // //     // find which handle was moved\r\n  // //     if(values[0] === sliderHandles[0]){\r\n  // //       localPrevHandle = 2;\r\n  // //     }\r\n  // //     else if(values[1] === sliderHandles[1]){\r\n  // //       localPrevHandle = 1;\r\n  // //     }\r\n  \r\n  // //     // update state of moved handle\r\n  // //     if(localPrevHandle === 1){\r\n  // //       result = [sliderHandles[0], sliderHandles[1]];\r\n  // //       if(result !== undefined){\r\n  // //         result[0] = values[0];\r\n  // //         set_slider_handles(result);\r\n  // //       }      \r\n  // //       // return dashboard;   \r\n  // //     }\r\n  // //     else if(localPrevHandle === 2){\r\n  // //       result = [sliderHandles[0], sliderHandles[1]];\r\n  // //       if(result !== undefined){\r\n  // //         result[1] = values[1];\r\n  // //         set_slider_handles(result);\r\n  // //       }      \r\n  // //       // return dashboard;   \r\n  // //     } \r\n  // //     // set_prev_handle(localPrevHandle);   \r\n  // //   }, 1000);       \r\n  // // }\r\n  \r\n  function handleTogglePlayback(e){\r\n    console.log(\"TOGGLED\")\r\n    console.log(data.body.is_playing)\r\n    if(data.body.is_playing){\r\n      // console.log(\"handletoggle\")\r\n      // console.log(data.body.is_playing)\r\n      var temp = {...data}\r\n      temp.body.is_playing = !temp.body.is_playing\r\n      set_data(temp)\r\n      // set_data(prev => ({...prev, body: {is_playing: false, ...prev.body.item}})) \r\n      console.log(data)\r\n    }\r\n    else if(!data.body.is_playing){\r\n      var temp = {...data}\r\n      temp.body.is_playing = !temp.body.is_playing\r\n      set_data(temp)\r\n      // set_data(prev => ({...prev, body:{is_playing: true, ...prev.body.item}})) \r\n      console.log(data)\r\n    }\r\n\r\n    // spotifyApi.getMyCurrentPlaybackState().then(data => {\r\n    //   console.log(data);\r\n    //   if(data.body !== null){\r\n    //     var tempData = data;\r\n    //     if(data.body.is_playing){\r\n    //       spotifyApi.pause().then((res) => {\r\n    //         clearTimeout(trackLoopTimer.current);\r\n    //         console.log(\"Paused\");\r\n    //         tempData.body.is_playing = !tempData.body.is_playing;\r\n    //         set_data(tempData);  \r\n    //       }, (err) => { \r\n    //         console.log(err.statusCode);       \r\n    //         alert(\"Please try again. Make sure you have a premium account\");\r\n    //       });      \r\n    //       }\r\n    //     else if(!data.body.is_playing) {\r\n    //       spotifyApi.play().then(() => {\r\n    //         console.log(\"Resumed\");\r\n    //         tempData.body.is_playing = !tempData.body.is_playing;\r\n    //         set_data(tempData);\r\n    //       }, (err) => {\r\n    //         console.log(err.statusCode); \r\n    //         alert(\"Please try again. Make sure you have a premium account\");\r\n    //       });\r\n    //     }  \r\n    //   }      \r\n    //   else {\r\n    //     alert(\"No active device found, play something on a device\")\r\n    //   }               \r\n    // })    \r\n  }\r\n  \r\n\r\n  // console.log(data);\r\n  return (\r\n    dashboard\r\n  )\r\n}\r\nexport default Preview;\r\n","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function useAuthClientCredientials() {    \r\n    // create states for our variables\r\n    const [ access_token, set_access_token ] = useState();    \r\n    const [ expires_in, set_expires_in ] = useState();\r\n\r\n    function fetchAccessToken(){\r\n        // make POST request to server for spotify api data\r\n        axios.get('/api/login').then(res => {\r\n            // store response data in state variables\r\n            set_access_token(res.data.access_token);            \r\n            set_expires_in(res.data.expires_in);\r\n            // clear code from url\r\n            window.history.pushState({}, null, '/');\r\n        })\r\n        .catch(() => {            \r\n            alert(\"error with setting up preview\")\r\n        })\r\n    }\r\n\r\n    // update state variables everytime url code from spotify changes\r\n    useEffect(() => {\r\n        fetchAccessToken()\r\n    }, [])\r\n\r\n    // function fetchAccessToken(){\r\n    //     var temp\r\n    //     axios.get('api/login').then(res => {\r\n    //       console.log(\"access token\")\r\n    //       console.log(res)\r\n    //       temp = res.data.access_token  \r\n    //       console.log(temp)  \r\n    //     })\r\n    //     return temp\r\n    //   }\r\n\r\n    // if refreshtoken / expiresin updated (ex. user logged in again?)\r\n    // create interval which continously sends api calls to server to update accesstoken and expiresin 60 seconds before token expires\r\n    useEffect(() => {\r\n        // do nothing if no refresh token / expiresin\r\n        if(!expires_in) return\r\n        // interval to update accesstoken / expiresin every expiresin - 60 seconds\r\n        const refreshInterval = setInterval(() => {\r\n            fetchAccessToken()\r\n        }, (expires_in - 60) * 1000);\r\n\r\n        return () => clearInterval(refreshInterval);\r\n        \r\n    }, [access_token]);\r\n\r\n    return access_token;\r\n}\r\n\r\n\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './styles/bootstrap-8k.css'\r\nimport Login from './components/Login';\r\nimport Dashboard from './components/Dashboard';\r\nimport Preview from './components/Preview';\r\nrequire('dotenv').config();\r\n\r\nconst code = new URLSearchParams(window.location.search).get('code');\r\n\r\nfunction App() {\r\n  if(code){\r\n    if(code === 'preview'){\r\n      return <Preview />\r\n    }\r\n    else{\r\n      return <Dashboard code={ code } />\r\n    }\r\n  }\r\n  else{\r\n    return <Login />\r\n  } \r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}